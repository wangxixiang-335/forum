import{d as v,r,a as c,b as s,e as w,f as i,v as n,t as _,j as d,l as g,p as b,q as y,o as V,s as x,_ as k}from"./index-02sh5J2l.js";import{useAuthStore as L}from"./auth-DsvB8qh0.js";const h={class:"login-container"},S={class:"login-form"},q={class:"form-group"},B={class:"form-group"},C=["disabled"],N={class:"form-footer"},R=v({__name:"LoginView",setup(D){const u=x(),p=L(),o=r({email:"",password:""}),a=r(!1),m=async()=>{if(!o.value.email||!o.value.password){alert("请填写邮箱和密码");return}a.value=!0;try{const t=await p.signIn(o.value.email,o.value.password);t.success?u.push("/"):alert(t.error||"登录失败")}catch(t){console.error("登录失败:",t),alert("登录失败，请重试")}finally{a.value=!1}};return(t,e)=>{const f=y("RouterLink");return V(),c("div",h,[s("div",S,[e[6]||(e[6]=s("h2",null,"登录连接者论坛",-1)),s("form",{onSubmit:w(m,["prevent"]),class:"form"},[s("div",q,[e[2]||(e[2]=s("label",{for:"email"},"邮箱",-1)),i(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=l=>o.value.email=l),type:"email",placeholder:"请输入邮箱",required:""},null,512),[[n,o.value.email]])]),s("div",B,[e[3]||(e[3]=s("label",{for:"password"},"密码",-1)),i(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>o.value.password=l),type:"password",placeholder:"请输入密码",required:""},null,512),[[n,o.value.password]])]),s("button",{type:"submit",disabled:a.value,class:"login-btn"},_(a.value?"登录中...":"登录"),9,C)],32),s("div",N,[s("p",null,[e[5]||(e[5]=d("还没有账号？ ",-1)),g(f,{to:"/register",class:"link"},{default:b(()=>[...e[4]||(e[4]=[d("立即注册",-1)])]),_:1})])])])])}}}),T=k(R,[["__scopeId","data-v-d42a90fb"]]);export{T as default};
//# sourceMappingURL=LoginView-BzOEiJll.js.map
