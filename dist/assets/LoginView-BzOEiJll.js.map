{"version":3,"file":"LoginView-BzOEiJll.js","sources":["../../src/views/LoginView.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-form\">\r\n      <h2>登录连接者论坛</h2>\r\n      \r\n      <form @submit.prevent=\"handleLogin\" class=\"form\">\r\n        <div class=\"form-group\">\r\n          <label for=\"email\">邮箱</label>\r\n          <input\r\n            id=\"email\"\r\n            v-model=\"form.email\"\r\n            type=\"email\"\r\n            placeholder=\"请输入邮箱\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <div class=\"form-group\">\r\n          <label for=\"password\">密码</label>\r\n          <input\r\n            id=\"password\"\r\n            v-model=\"form.password\"\r\n            type=\"password\"\r\n            placeholder=\"请输入密码\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <button type=\"submit\" :disabled=\"loading\" class=\"login-btn\">\r\n          {{ loading ? '登录中...' : '登录' }}\r\n        </button>\r\n      </form>\r\n      \r\n      <div class=\"form-footer\">\r\n        <p>还没有账号？ <RouterLink to=\"/register\" class=\"link\">立即注册</RouterLink></p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\nconst router = useRouter()\r\nconst authStore = useAuthStore()\r\n\r\nconst form = ref({\r\n  email: '',\r\n  password: ''\r\n})\r\n\r\nconst loading = ref(false)\r\n\r\nconst handleLogin = async () => {\r\n  if (!form.value.email || !form.value.password) {\r\n    alert('请填写邮箱和密码')\r\n    return\r\n  }\r\n\r\n  loading.value = true\r\n  \r\n  try {\r\n    const result = await authStore.signIn(form.value.email, form.value.password)\r\n    \r\n    if (result.success) {\r\n      router.push('/')\r\n    } else {\r\n      alert(result.error || '登录失败')\r\n    }\r\n  } catch (error: any) {\r\n    console.error('登录失败:', error)\r\n    alert('登录失败，请重试')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #f5f5f5;\r\n  padding: 2rem;\r\n}\r\n\r\n.login-form {\r\n  background: white;\r\n  padding: 2rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n  width: 100%;\r\n  max-width: 400px;\r\n}\r\n\r\n.login-form h2 {\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n  color: #333;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  border: 1px solid #d9d9d9;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.form-group input:focus {\r\n  outline: none;\r\n  border-color: #1890ff;\r\n  box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\r\n}\r\n\r\n.login-btn {\r\n  width: 100%;\r\n  background: #1890ff;\r\n  color: white;\r\n  border: none;\r\n  padding: 0.75rem;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.login-btn:hover:not(:disabled) {\r\n  background: #40a9ff;\r\n}\r\n\r\n.login-btn:disabled {\r\n  background: #bae7ff;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.form-footer {\r\n  text-align: center;\r\n  margin-top: 2rem;\r\n  color: #666;\r\n}\r\n\r\n.link {\r\n  color: #1890ff;\r\n  text-decoration: none;\r\n}\r\n\r\n.link:hover {\r\n  text-decoration: underline;\r\n}\r\n</style>"],"names":["router","useRouter","authStore","useAuthStore","form","ref","loading","handleLogin","result","error","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","_hoisted_3","$event","_vModelText","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_RouterLink"],"mappings":"sWA6CA,MAAMA,EAASC,EAAA,EACTC,EAAYC,EAAA,EAEZC,EAAOC,EAAI,CACf,MAAO,GACP,SAAU,EAAA,CACX,EAEKC,EAAUD,EAAI,EAAK,EAEnBE,EAAc,SAAY,CAC9B,GAAI,CAACH,EAAK,MAAM,OAAS,CAACA,EAAK,MAAM,SAAU,CAC7C,MAAM,UAAU,EAChB,MACF,CAEAE,EAAQ,MAAQ,GAEhB,GAAI,CACF,MAAME,EAAS,MAAMN,EAAU,OAAOE,EAAK,MAAM,MAAOA,EAAK,MAAM,QAAQ,EAEvEI,EAAO,QACTR,EAAO,KAAK,GAAG,EAEf,MAAMQ,EAAO,OAAS,MAAM,CAEhC,OAASC,EAAY,CACnB,QAAQ,MAAM,QAASA,CAAK,EAC5B,MAAM,UAAU,CAClB,QAAA,CACEH,EAAQ,MAAQ,EAClB,CACF,wCA5EE,OAAAI,EAAA,EAAAC,EAoCM,MApCNC,EAoCM,CAnCJC,EAkCM,MAlCNC,EAkCM,CAjCJC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAF,EAAgB,UAAZ,UAAO,EAAA,GAEXA,EA0BO,OAAA,CA1BA,WAAgBN,EAAW,CAAA,SAAA,CAAA,EAAE,MAAM,MAAA,GACxCM,EASM,MATNG,EASM,CARJD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAF,EAA6B,QAAA,CAAtB,IAAI,OAAA,EAAQ,KAAE,EAAA,KACrBA,EAME,QAAA,CALA,GAAG,QACM,sBAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAE,GAAAb,EAAA,MAAK,MAAKa,GACnB,KAAK,QACL,YAAY,QACZ,SAAA,EAAA,aAHS,CAAAC,EAAAd,EAAA,MAAK,KAAK,CAAA,KAOvBS,EASM,MATNM,EASM,CARJJ,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAF,EAAgC,QAAA,CAAzB,IAAI,UAAA,EAAW,KAAE,EAAA,KACxBA,EAME,QAAA,CALA,GAAG,WACM,sBAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAE,GAAAb,EAAA,MAAK,SAAQa,GACtB,KAAK,WACL,YAAY,QACZ,SAAA,EAAA,aAHS,CAAAC,EAAAd,EAAA,MAAK,QAAQ,CAAA,KAO1BS,EAES,SAAA,CAFD,KAAK,SAAU,SAAUP,EAAA,MAAS,MAAM,WAAA,IAC3CA,EAAA,MAAO,SAAA,IAAA,EAAA,EAAAc,CAAA,CAAA,MAIdP,EAEM,MAFNQ,EAEM,CADJR,EAAuE,IAAA,KAAA,eAApE,UAAO,EAAA,GAAAS,EAAyDC,EAAA,CAA7C,GAAG,YAAY,MAAM,MAAA,aAAO,IAAI,CAAA,GAAAR,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAAJ,OAAI,EAAA,CAAA"}