{"version":3,"file":"RegisterView-ffHvHDCK.js","sources":["../../src/views/RegisterView.vue"],"sourcesContent":["<template>\r\n  <div class=\"register-container\">\r\n    <div class=\"register-form\">\r\n      <h2>Ê≥®ÂÜåËøûÊé•ËÄÖËÆ∫Âùõ</h2>\r\n      \r\n      <form @submit.prevent=\"handleRegister\" class=\"form\">\r\n        <div class=\"form-group\">\r\n          <label for=\"username\">Áî®Êà∑Âêç</label>\r\n          <input\r\n            id=\"username\"\r\n            v-model=\"form.username\"\r\n            type=\"text\"\r\n            placeholder=\"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç\"\r\n            required\r\n            minlength=\"3\"\r\n            maxlength=\"20\"\r\n          />\r\n        </div>\r\n        \r\n        <div class=\"form-group\">\r\n          <label for=\"email\">ÈÇÆÁÆ±</label>\r\n          <input\r\n            id=\"email\"\r\n            v-model=\"form.email\"\r\n            type=\"email\"\r\n            placeholder=\"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <div class=\"form-group\">\r\n          <label for=\"password\">ÂØÜÁ†Å</label>\r\n          <input\r\n            id=\"password\"\r\n            v-model=\"form.password\"\r\n            type=\"password\"\r\n            placeholder=\"ËØ∑ËæìÂÖ•ÂØÜÁ†Å\"\r\n            required\r\n            minlength=\"6\"\r\n          />\r\n        </div>\r\n        \r\n        <div class=\"form-group\">\r\n          <label for=\"confirmPassword\">Á°ÆËÆ§ÂØÜÁ†Å</label>\r\n          <input\r\n            id=\"confirmPassword\"\r\n            v-model=\"form.confirmPassword\"\r\n            type=\"password\"\r\n            placeholder=\"ËØ∑ÂÜçÊ¨°ËæìÂÖ•ÂØÜÁ†Å\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <button type=\"submit\" :disabled=\"loading\" class=\"register-btn\">\r\n          {{ loading ? 'Ê≥®ÂÜå‰∏≠...' : 'Ê≥®ÂÜå' }}\r\n        </button>\r\n      </form>\r\n      \r\n      <!-- ÈîôËØØÊ∂àÊÅØÊòæÁ§∫ -->\r\n      <div v-if=\"errorMessage\" class=\"error-message\">\r\n        {{ errorMessage }}\r\n      </div>\r\n      \r\n      <div class=\"form-footer\">\r\n        <p>Â∑≤ÊúâË¥¶Âè∑Ôºü <RouterLink to=\"/login\" class=\"link\">Á´ãÂç≥ÁôªÂΩï</RouterLink></p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\nconst router = useRouter()\r\nconst authStore = useAuthStore()\r\n\r\nconst form = ref({\r\n  username: '',\r\n  email: '',\r\n  password: '',\r\n  confirmPassword: ''\r\n})\r\n\r\nconst loading = ref(false)\r\nconst errorMessage = ref('')\r\n\r\nconst validateForm = () => {\r\n  if (form.value.username.length < 3) {\r\n    errorMessage.value = 'Áî®Êà∑ÂêçËá≥Â∞ëÈúÄË¶Å3‰∏™Â≠óÁ¨¶'\r\n    return false\r\n  }\r\n  \r\n  if (form.value.password.length < 6) {\r\n    errorMessage.value = 'ÂØÜÁ†ÅËá≥Â∞ëÈúÄË¶Å6‰∏™Â≠óÁ¨¶'\r\n    return false\r\n  }\r\n  \r\n  if (form.value.password !== form.value.confirmPassword) {\r\n    errorMessage.value = '‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏ç‰∏ÄËá¥'\r\n    return false\r\n  }\r\n  \r\n  errorMessage.value = ''\r\n  return true\r\n}\r\n\r\nconst handleRegister = async () => {\r\n  console.log('üîÑ Ê≥®ÂÜåÊåâÈíÆË¢´ÁÇπÂáª')\r\n  \r\n  if (!validateForm()) {\r\n    console.log('‚ùå Ë°®ÂçïÈ™åËØÅÂ§±Ë¥•')\r\n    return\r\n  }\r\n  \r\n  loading.value = true\r\n  errorMessage.value = ''\r\n  \r\n  try {\r\n    console.log('üìß Ê≥®ÂÜå‰ø°ÊÅØ:', {\r\n      username: form.value.username,\r\n      email: form.value.email\r\n    })\r\n    \r\n    // Ê£ÄÊü•ÊòØÂê¶‰ΩøÁî®ÈªòËÆ§ÈÖçÁΩÆ\r\n    const supabaseUrl = import.meta.env.VITE_SUPABASE_URL\r\n    if (!supabaseUrl || supabaseUrl.includes('default.supabase.co')) {\r\n      // ÂºÄÂèëÊ®°ÂºèÔºöÊ®°ÊãüÊ≥®ÂÜåÊàêÂäü\r\n      console.log('üîß ÂºÄÂèëÊ®°ÂºèÔºöÊ®°ÊãüÊ≥®ÂÜåÊµÅÁ®ã')\r\n      \r\n      // Ê®°ÊãüÊ≥®ÂÜåÊàêÂäüÂêéÁöÑË∑≥ËΩ¨\r\n      setTimeout(() => {\r\n        console.log('‚úÖ ÂºÄÂèëÊ®°ÂºèÊ≥®ÂÜåÊàêÂäü')\r\n        loading.value = false\r\n        alert('Ê≥®ÂÜåÊàêÂäüÔºÅËØ∑ÈÖçÁΩÆÁúüÂÆûÁöÑSupabaseÁéØÂ¢ÉÂèòÈáè‰ª•‰ΩøÁî®ÂÆåÊï¥ÂäüËÉΩ„ÄÇ')\r\n        router.push('/login')\r\n      }, 1000)\r\n      return\r\n    }\r\n    \r\n    // ÁúüÂÆûÁéØÂ¢ÉÔºöË∞ÉÁî®SupabaseÊ≥®ÂÜå\r\n    console.log('üîê Â∞ùËØïÁúüÂÆûSupabaseÊ≥®ÂÜå...')\r\n    const result = await authStore.signUp(\r\n      form.value.email,\r\n      form.value.password,\r\n      form.value.username\r\n    )\r\n    \r\n    if (!result.success) {\r\n      console.error('‚ùå Ê≥®ÂÜåÂ§±Ë¥•:', result.error)\r\n      \r\n      // Êèê‰æõÊõ¥ÂèãÂ•ΩÁöÑÈîôËØØÊèêÁ§∫\r\n      if (result.error.includes('Email not confirmed')) {\r\n        errorMessage.value = '‚úÖ Ê≥®ÂÜåÊàêÂäüÔºÅËØ∑Ê£ÄÊü•ÊÇ®ÁöÑÈÇÆÁÆ±Âπ∂ÁÇπÂáªÁ°ÆËÆ§ÈìæÊé•ÂÆåÊàêÊ≥®ÂÜå„ÄÇ'\r\n      } else if (result.error.includes('row-level security')) {\r\n        errorMessage.value = '‚úÖ Ê≥®ÂÜåÊàêÂäüÔºÅ‰ΩÜÁî®Êà∑ËµÑÊñôÂàõÂª∫ÂèóÈôê„ÄÇËØ∑ËÅîÁ≥ªÁÆ°ÁêÜÂëò‰øÆÂ§çÊï∞ÊçÆÂ∫ìÊùÉÈôê„ÄÇ'\r\n      } else if (result.error.includes('User already registered')) {\r\n        errorMessage.value = '‚ùå ËØ•ÈÇÆÁÆ±Â∑≤Ë¢´Ê≥®ÂÜåÔºåËØ∑‰ΩøÁî®ÂÖ∂‰ªñÈÇÆÁÆ±ÊàñÂ∞ùËØïÁôªÂΩï„ÄÇ'\r\n      } else {\r\n        errorMessage.value = result.error || 'Ê≥®ÂÜåÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï'\r\n      }\r\n      return\r\n    }\r\n    \r\n    // Ê≥®ÂÜåÊàêÂäüÔºåÊòæÁ§∫ËØ¶ÁªÜÊàêÂäüÊ∂àÊÅØ\r\n    console.log('‚úÖ Ê≥®ÂÜåÊàêÂäü:', result.message)\r\n    \r\n    // ÊòæÁ§∫ÊàêÂäüÊ∂àÊÅØÔºåÊåáÂØºÁî®Êà∑‰∏ã‰∏ÄÊ≠•Êìç‰Ωú\r\n    if (result.message && result.message.includes('ÈÇÆÁÆ±È™åËØÅ')) {\r\n      errorMessage.value = '‚úÖ Ê≥®ÂÜåÊàêÂäüÔºÅËØ∑Ê£ÄÊü•ÊÇ®ÁöÑÈÇÆÁÆ±Âπ∂ÁÇπÂáªÁ°ÆËÆ§ÈìæÊé•ÂÆåÊàêÊ≥®ÂÜå„ÄÇ'\r\n    } else {\r\n      errorMessage.value = '‚úÖ Ê≥®ÂÜåÊàêÂäüÔºÅÊ≠£Âú®Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢...'\r\n    }\r\n    \r\n    // Âª∂ËøüË∑≥ËΩ¨ÔºåËÆ©Áî®Êà∑ÁúãÂà∞ÊàêÂäüÊ∂àÊÅØ\r\n    setTimeout(() => {\r\n      router.push('/login')\r\n    }, 3000)\r\n  } catch (error) {\r\n    console.error('‚ùå Ê≥®ÂÜåÂºÇÂ∏∏:', error)\r\n    errorMessage.value = 'Ê≥®ÂÜåÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï'\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.register-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  padding: 20px;\r\n}\r\n\r\n.register-form {\r\n  background: white;\r\n  padding: 40px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 400px;\r\n}\r\n\r\n.register-form h2 {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  color: #333;\r\n  font-weight: 600;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  color: #555;\r\n  font-weight: 500;\r\n}\r\n\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 2px solid #e1e5e9;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  transition: border-color 0.3s;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.form-group input:focus {\r\n  outline: none;\r\n  border-color: #667eea;\r\n}\r\n\r\n.register-btn {\r\n  width: 100%;\r\n  padding: 12px;\r\n  background: #667eea;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: background 0.3s;\r\n}\r\n\r\n.register-btn:hover:not(:disabled) {\r\n  background: #5a6fd8;\r\n}\r\n\r\n.register-btn:disabled {\r\n  background: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.error-message {\r\n  background: #fee;\r\n  border: 1px solid #fcc;\r\n  color: #c33;\r\n  padding: 12px;\r\n  border-radius: 6px;\r\n  margin: 15px 0;\r\n  text-align: center;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-footer {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n  color: #666;\r\n}\r\n\r\n.link {\r\n  color: #667eea;\r\n  text-decoration: none;\r\n  font-weight: 500;\r\n}\r\n\r\n.link:hover {\r\n  text-decoration: underline;\r\n}\r\n</style>"],"names":["router","useRouter","authStore","useAuthStore","form","ref","loading","errorMessage","validateForm","handleRegister","supabaseUrl","result","error","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","_hoisted_3","$event","_vModelText","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","_hoisted_9","_createVNode","_component_RouterLink"],"mappings":"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"}