{"version":3,"file":"UserAvatar-CYysCMLx.js","sources":["../../src/components/UserAvatar.vue"],"sourcesContent":["<template>\r\n  <div class=\"user-avatar\" :style=\"{ width: size, height: size }\">\r\n    <div \r\n      v-if=\"avatarData\" \r\n      class=\"avatar-content\"\r\n      :style=\"{ backgroundColor: avatarData.color }\"\r\n    >\r\n      <span class=\"avatar-icon\">{{ avatarData.icon }}</span>\r\n    </div>\r\n    <div v-else class=\"avatar-content avatar-default\">\r\n      <span class=\"avatar-text\">{{ firstLetter }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, onMounted, ref, watch } from 'vue'\r\n\r\ninterface Avatar {\r\n  id: string\r\n  name: string\r\n  icon: string\r\n  color: string\r\n}\r\n\r\ninterface Props {\r\n  username?: string\r\n  avatarId?: string | null\r\n  size?: string\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  size: '40px'\r\n})\r\n\r\nconst avatarData = ref<Avatar | null>(null)\r\n\r\nconst avatars: Avatar[] = [\r\n  { id: 'cat', name: 'çŒ«å’ª', icon: 'ðŸ±', color: '#FF6B6B' },\r\n  { id: 'dog', name: 'å°ç‹—', icon: 'ðŸ¶', color: '#4ECDC4' },\r\n  { id: 'bear', name: 'å°ç†Š', icon: 'ðŸ»', color: '#45B7D1' },\r\n  { id: 'rabbit', name: 'å…”å­', icon: 'ðŸ°', color: '#96CEB4' },\r\n  { id: 'panda', name: 'ç†ŠçŒ«', icon: 'ðŸ¼', color: '#FFEAA7' },\r\n  { id: 'fox', name: 'ç‹ç‹¸', icon: 'ðŸ¦Š', color: '#DDA0DD' },\r\n  { id: 'lion', name: 'ç‹®å­', icon: 'ðŸ¦', color: '#FFA07A' },\r\n  { id: 'monkey', name: 'çŒ´å­', icon: 'ðŸµ', color: '#98D8C8' },\r\n  { id: 'pig', name: 'å°çŒª', icon: 'ðŸ·', color: '#FFB6C1' },\r\n  { id: 'cow', name: 'å¥¶ç‰›', icon: 'ðŸ®', color: '#87CEEB' },\r\n  { id: 'tiger', name: 'è€è™Ž', icon: 'ðŸ¯', color: '#FFD700' },\r\n  { id: 'elephant', name: 'å¤§è±¡', icon: 'ðŸ˜', color: '#F0E68C' },\r\n  { id: 'giraffe', name: 'é•¿é¢ˆé¹¿', icon: 'ðŸ¦’', color: '#FFA500' },\r\n  { id: 'penguin', name: 'ä¼é¹…', icon: 'ðŸ§', color: '#B0E0E6' },\r\n  { id: 'owl', name: 'çŒ«å¤´é¹°', icon: 'ðŸ¦‰', color: '#D8BFD8' },\r\n  { id: 'turtle', name: 'ä¹Œé¾Ÿ', icon: 'ðŸ¢', color: '#90EE90' }\r\n]\r\n\r\nconst firstLetter = computed(() => {\r\n  return props.username ? props.username.charAt(0).toUpperCase() : 'U'\r\n})\r\n\r\nconst loadAvatar = () => {\r\n  try {\r\n    const avatarId = props.avatarId || localStorage.getItem('userAvatar')\r\n    if (avatarId) {\r\n      const avatar = avatars.find(a => a.id === avatarId)\r\n      if (avatar) {\r\n        avatarData.value = avatar\r\n      } else {\r\n        avatarData.value = null\r\n      }\r\n    } else {\r\n      avatarData.value = null\r\n    }\r\n  } catch (error) {\r\n    console.warn('åŠ è½½å¤´åƒå¤±è´¥:', error)\r\n    avatarData.value = null\r\n  }\r\n}\r\n\r\n// ç›‘å¬avatarIdçš„å˜åŒ–\r\nwatch(() => props.avatarId, () => {\r\n  loadAvatar()\r\n}, { immediate: true })\r\n\r\nonMounted(() => {\r\n  loadAvatar()\r\n})\r\n\r\n// æš´éœ²æ–¹æ³•ä¾›å¤–éƒ¨è°ƒç”¨\r\ndefineExpose({\r\n  loadAvatar\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.user-avatar {\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  display: inline-block;\r\n  border: 2px solid #fff;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.avatar-content {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n}\r\n\r\n.avatar-default {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n}\r\n\r\n.avatar-icon {\r\n  font-size: calc(0.6 * var(--avatar-size, 40px));\r\n}\r\n\r\n.avatar-text {\r\n  font-size: calc(0.5 * var(--avatar-size, 40px));\r\n  text-transform: uppercase;\r\n}\r\n</style>"],"names":["props","__props","avatarData","ref","avatars","firstLetter","computed","loadAvatar","avatarId","avatar","a","error","watch","onMounted","__expose","_createElementBlock","_normalizeStyle","_createElementVNode","_hoisted_1","_toDisplayString","_openBlock","_hoisted_2","_hoisted_3"],"mappings":"uTA+BA,MAAMA,EAAQC,EAIRC,EAAaC,EAAmB,IAAI,EAEpCC,EAAoB,CACxB,CAAE,GAAI,MAAO,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC5C,CAAE,GAAI,MAAO,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC5C,CAAE,GAAI,OAAQ,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC7C,CAAE,GAAI,SAAU,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC/C,CAAE,GAAI,QAAS,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC9C,CAAE,GAAI,MAAO,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC5C,CAAE,GAAI,OAAQ,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC7C,CAAE,GAAI,SAAU,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC/C,CAAE,GAAI,MAAO,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC5C,CAAE,GAAI,MAAO,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC5C,CAAE,GAAI,QAAS,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAC9C,CAAE,GAAI,WAAY,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EACjD,CAAE,GAAI,UAAW,KAAM,MAAO,KAAM,KAAM,MAAO,SAAA,EACjD,CAAE,GAAI,UAAW,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,EAChD,CAAE,GAAI,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,SAAA,EAC7C,CAAE,GAAI,SAAU,KAAM,KAAM,KAAM,KAAM,MAAO,SAAA,CAAU,EAGrDC,EAAcC,EAAS,IACpBN,EAAM,SAAWA,EAAM,SAAS,OAAO,CAAC,EAAE,cAAgB,GAClE,EAEKO,EAAa,IAAM,CACvB,GAAI,CACF,MAAMC,EAAWR,EAAM,UAAY,aAAa,QAAQ,YAAY,EACpE,GAAIQ,EAAU,CACZ,MAAMC,EAASL,EAAQ,KAAKM,GAAKA,EAAE,KAAOF,CAAQ,EAC9CC,EACFP,EAAW,MAAQO,EAEnBP,EAAW,MAAQ,IAEvB,MACEA,EAAW,MAAQ,IAEvB,OAASS,EAAO,CACd,QAAQ,KAAK,UAAWA,CAAK,EAC7BT,EAAW,MAAQ,IACrB,CACF,EAGA,OAAAU,EAAM,IAAMZ,EAAM,SAAU,IAAM,CAChCO,EAAA,CACF,EAAG,CAAE,UAAW,GAAM,EAEtBM,EAAU,IAAM,CACdN,EAAA,CACF,CAAC,EAGDO,EAAa,CACX,WAAAP,CAAA,CACD,cA1FCQ,EAWM,MAAA,CAXD,MAAM,cAAe,MAAKC,EAAA,CAAA,MAAWf,EAAA,KAAI,OAAUA,EAAA,IAAA,CAAI,CAAA,GAElDC,EAAA,WADRa,EAMM,MAAA,OAJJ,MAAM,iBACL,MAAKC,EAAA,CAAA,gBAAqBd,EAAA,MAAW,MAAK,CAAA,GAE3Ce,EAAsD,OAAtDC,EAAsDC,EAAzBjB,EAAA,MAAW,IAAI,EAAA,CAAA,CAAA,OAE9CkB,IAAAL,EAEM,MAFNM,EAEM,CADJJ,EAAkD,OAAlDK,EAAkDH,EAArBd,EAAA,KAAW,EAAA,CAAA,CAAA"}