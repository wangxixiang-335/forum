const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomeView-C96zmu4T.js","assets/auth-1hv12URH.js","assets/posts-BCS3gLhB.js","assets/PostCard-CowoRDAD.js","assets/PostCard-BItMMEei.css","assets/HomeView-BTj3UaW0.css","assets/ConnectionTestView-BL8UsdAT.js","assets/ConnectionTestView-BOH6apMI.css","assets/SupabaseManagerView-B8be-RyJ.js","assets/SupabaseManagerView-DQBoSTp9.css","assets/PostDetailView-ByVKoYol.js","assets/PostDetailView-DZ60UbLg.css","assets/LoginView-WMDw1Hha.js","assets/LoginView-CaSuU1KS.css","assets/RegisterView-BqhehCaR.js","assets/RegisterView-CkK-qslr.css","assets/ProfileView-BTb85n4A.js","assets/ProfileView-CtwRLzO3.css","assets/NotFoundView-D0lUfgtR.js","assets/NotFoundView-DevnPoTc.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ii(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const se={},gr=[],ot=()=>{},ca=()=>!1,Ms=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),oi=t=>t.startsWith("onUpdate:"),Se=Object.assign,ai=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Dc=Object.prototype.hasOwnProperty,te=(t,e)=>Dc.call(t,e),H=Array.isArray,_r=t=>Bs(t)==="[object Map]",ua=t=>Bs(t)==="[object Set]",J=t=>typeof t=="function",pe=t=>typeof t=="string",Dt=t=>typeof t=="symbol",ae=t=>t!==null&&typeof t=="object",ha=t=>(ae(t)||J(t))&&J(t.then)&&J(t.catch),da=Object.prototype.toString,Bs=t=>da.call(t),Uc=t=>Bs(t).slice(8,-1),fa=t=>Bs(t)==="[object Object]",li=t=>pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Lr=ii(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fs=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},$c=/-\w/g,Ge=Fs(t=>t.replace($c,e=>e.slice(1).toUpperCase())),Mc=/\B([A-Z])/g,Qt=Fs(t=>t.replace(Mc,"-$1").toLowerCase()),Vs=Fs(t=>t.charAt(0).toUpperCase()+t.slice(1)),rn=Fs(t=>t?`on${Vs(t)}`:""),kt=(t,e)=>!Object.is(t,e),ws=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},pa=(t,e,r,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:r})},In=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Mi;const qs=()=>Mi||(Mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ci(t){if(H(t)){const e={};for(let r=0;r<t.length;r++){const s=t[r],n=pe(s)?qc(s):ci(s);if(n)for(const i in n)e[i]=n[i]}return e}else if(pe(t)||ae(t))return t}const Bc=/;(?![^(]*\))/g,Fc=/:([^]+)/,Vc=/\/\*[^]*?\*\//g;function qc(t){const e={};return t.replace(Vc,"").split(Bc).forEach(r=>{if(r){const s=r.split(Fc);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function mr(t){let e="";if(pe(t))e=t;else if(H(t))for(let r=0;r<t.length;r++){const s=mr(t[r]);s&&(e+=s+" ")}else if(ae(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Hc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wc=ii(Hc);function ga(t){return!!t||t===""}const _a=t=>!!(t&&t.__v_isRef===!0),St=t=>pe(t)?t:t==null?"":H(t)||ae(t)&&(t.toString===da||!J(t.toString))?_a(t)?St(t.value):JSON.stringify(t,ma,2):String(t),ma=(t,e)=>_a(e)?ma(t,e.value):_r(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,n],i)=>(r[sn(s,i)+" =>"]=n,r),{})}:ua(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>sn(r))}:Dt(e)?sn(e):ae(e)&&!H(e)&&!fa(e)?String(e):e,sn=(t,e="")=>{var r;return Dt(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let we;class va{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=we,!e&&we&&(this.index=(we.scopes||(we.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=we;try{return we=this,e()}finally{we=r}}}on(){++this._on===1&&(this.prevScope=we,we=this)}off(){this._on>0&&--this._on===0&&(we=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ya(t){return new va(t)}function wa(){return we}function Kc(t,e=!1){we&&we.cleanups.push(t)}let oe;const nn=new WeakSet;class ba{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,we&&we.active&&we.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nn.has(this)&&(nn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Sa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bi(this),Ta(this);const e=oe,r=Ye;oe=this,Ye=!0;try{return this.fn()}finally{Oa(this),oe=e,Ye=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)di(e);this.deps=this.depsTail=void 0,Bi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cn(this)&&this.run()}get dirty(){return Cn(this)}}let Ea=0,Dr,Ur;function Sa(t,e=!1){if(t.flags|=8,e){t.next=Ur,Ur=t;return}t.next=Dr,Dr=t}function ui(){Ea++}function hi(){if(--Ea>0)return;if(Ur){let e=Ur;for(Ur=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Dr;){let e=Dr;for(Dr=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=r}}if(t)throw t}function Ta(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Oa(t){let e,r=t.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),di(s),Gc(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=r}function Cn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Aa(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Aa(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Jr)||(t.globalVersion=Jr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Cn(t))))return;t.flags|=2;const e=t.dep,r=oe,s=Ye;oe=t,Ye=!0;try{Ta(t);const n=t.fn(t._value);(e.version===0||kt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{oe=r,Ye=s,Oa(t),t.flags&=-3}}function di(t,e=!1){const{dep:r,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),r.subs===t&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)di(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Gc(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ye=!0;const Ra=[];function _t(){Ra.push(Ye),Ye=!1}function mt(){const t=Ra.pop();Ye=t===void 0?!0:t}function Bi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=oe;oe=void 0;try{e()}finally{oe=r}}}let Jr=0;class Jc{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class fi{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!oe||!Ye||oe===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==oe)r=this.activeLink=new Jc(oe,this),oe.deps?(r.prevDep=oe.depsTail,oe.depsTail.nextDep=r,oe.depsTail=r):oe.deps=oe.depsTail=r,Ia(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=oe.depsTail,r.nextDep=void 0,oe.depsTail.nextDep=r,oe.depsTail=r,oe.deps===r&&(oe.deps=s)}return r}trigger(e){this.version++,Jr++,this.notify(e)}notify(e){ui();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{hi()}}}function Ia(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Ia(s)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Ts=new WeakMap,Xt=Symbol(""),Pn=Symbol(""),zr=Symbol("");function be(t,e,r){if(Ye&&oe){let s=Ts.get(t);s||Ts.set(t,s=new Map);let n=s.get(r);n||(s.set(r,n=new fi),n.map=s,n.key=r),n.track()}}function pt(t,e,r,s,n,i){const o=Ts.get(t);if(!o){Jr++;return}const a=l=>{l&&l.trigger()};if(ui(),e==="clear")o.forEach(a);else{const l=H(t),c=l&&li(r);if(l&&r==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===zr||!Dt(d)&&d>=u)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(zr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Xt)),_r(t)&&a(o.get(Pn)));break;case"delete":l||(a(o.get(Xt)),_r(t)&&a(o.get(Pn)));break;case"set":_r(t)&&a(o.get(Xt));break}}hi()}function zc(t,e){const r=Ts.get(t);return r&&r.get(e)}function rr(t){const e=Q(t);return e===t?e:(be(e,"iterate",zr),We(t)?e:e.map(ye))}function Hs(t){return be(t=Q(t),"iterate",zr),t}const Xc={__proto__:null,[Symbol.iterator](){return on(this,Symbol.iterator,ye)},concat(...t){return rr(this).concat(...t.map(e=>H(e)?rr(e):e))},entries(){return on(this,"entries",t=>(t[1]=ye(t[1]),t))},every(t,e){return ct(this,"every",t,e,void 0,arguments)},filter(t,e){return ct(this,"filter",t,e,r=>r.map(ye),arguments)},find(t,e){return ct(this,"find",t,e,ye,arguments)},findIndex(t,e){return ct(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ct(this,"findLast",t,e,ye,arguments)},findLastIndex(t,e){return ct(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ct(this,"forEach",t,e,void 0,arguments)},includes(...t){return an(this,"includes",t)},indexOf(...t){return an(this,"indexOf",t)},join(t){return rr(this).join(t)},lastIndexOf(...t){return an(this,"lastIndexOf",t)},map(t,e){return ct(this,"map",t,e,void 0,arguments)},pop(){return Cr(this,"pop")},push(...t){return Cr(this,"push",t)},reduce(t,...e){return Fi(this,"reduce",t,e)},reduceRight(t,...e){return Fi(this,"reduceRight",t,e)},shift(){return Cr(this,"shift")},some(t,e){return ct(this,"some",t,e,void 0,arguments)},splice(...t){return Cr(this,"splice",t)},toReversed(){return rr(this).toReversed()},toSorted(t){return rr(this).toSorted(t)},toSpliced(...t){return rr(this).toSpliced(...t)},unshift(...t){return Cr(this,"unshift",t)},values(){return on(this,"values",ye)}};function on(t,e,r){const s=Hs(t),n=s[e]();return s!==t&&!We(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=r(i.value)),i}),n}const Yc=Array.prototype;function ct(t,e,r,s,n,i){const o=Hs(t),a=o!==t&&!We(t),l=o[e];if(l!==Yc[e]){const h=l.apply(t,i);return a?ye(h):h}let c=r;o!==t&&(a?c=function(h,d){return r.call(this,ye(h),d,t)}:r.length>2&&(c=function(h,d){return r.call(this,h,d,t)}));const u=l.call(o,c,s);return a&&n?n(u):u}function Fi(t,e,r,s){const n=Hs(t);let i=r;return n!==t&&(We(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,ye(a),l,t)}),n[e](i,...s)}function an(t,e,r){const s=Q(t);be(s,"iterate",zr);const n=s[e](...r);return(n===-1||n===!1)&&_i(r[0])?(r[0]=Q(r[0]),s[e](...r)):n}function Cr(t,e,r=[]){_t(),ui();const s=Q(t)[e].apply(t,r);return hi(),mt(),s}const Qc=ii("__proto__,__v_isRef,__isVue"),Ca=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Dt));function Zc(t){Dt(t)||(t=String(t));const e=Q(this);return be(e,"has",t),e.hasOwnProperty(t)}class Pa{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,s){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?cu:Na:i?ja:xa).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=H(e);if(!n){let l;if(o&&(l=Xc[r]))return l;if(r==="hasOwnProperty")return Zc}const a=Reflect.get(e,r,de(e)?e:s);if((Dt(r)?Ca.has(r):Qc(r))||(n||be(e,"get",r),i))return a;if(de(a)){const l=o&&li(r)?a:a.value;return n&&ae(l)?xn(l):l}return ae(a)?n?xn(a):ss(a):a}}class ka extends Pa{constructor(e=!1){super(!1,e)}set(e,r,s,n){let i=e[r];if(!this._isShallow){const l=Nt(i);if(!We(s)&&!Nt(s)&&(i=Q(i),s=Q(s)),!H(e)&&de(i)&&!de(s))return l||(i.value=s),!0}const o=H(e)&&li(r)?Number(r)<e.length:te(e,r),a=Reflect.set(e,r,s,de(e)?e:n);return e===Q(n)&&(o?kt(s,i)&&pt(e,"set",r,s):pt(e,"add",r,s)),a}deleteProperty(e,r){const s=te(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&s&&pt(e,"delete",r,void 0),n}has(e,r){const s=Reflect.has(e,r);return(!Dt(r)||!Ca.has(r))&&be(e,"has",r),s}ownKeys(e){return be(e,"iterate",H(e)?"length":Xt),Reflect.ownKeys(e)}}class eu extends Pa{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const tu=new ka,ru=new eu,su=new ka(!0);const kn=t=>t,as=t=>Reflect.getPrototypeOf(t);function nu(t,e,r){return function(...s){const n=this.__v_raw,i=Q(n),o=_r(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...s),u=r?kn:e?Os:ye;return!e&&be(i,"iterate",l?Pn:Xt),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function ls(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function iu(t,e){const r={get(n){const i=this.__v_raw,o=Q(i),a=Q(n);t||(kt(n,a)&&be(o,"get",n),be(o,"get",a));const{has:l}=as(o),c=e?kn:t?Os:ye;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&be(Q(n),"iterate",Xt),n.size},has(n){const i=this.__v_raw,o=Q(i),a=Q(n);return t||(kt(n,a)&&be(o,"has",n),be(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=Q(a),c=e?kn:t?Os:ye;return!t&&be(l,"iterate",Xt),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return Se(r,t?{add:ls("add"),set:ls("set"),delete:ls("delete"),clear:ls("clear")}:{add(n){!e&&!We(n)&&!Nt(n)&&(n=Q(n));const i=Q(this);return as(i).has.call(i,n)||(i.add(n),pt(i,"add",n,n)),this},set(n,i){!e&&!We(i)&&!Nt(i)&&(i=Q(i));const o=Q(this),{has:a,get:l}=as(o);let c=a.call(o,n);c||(n=Q(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?kt(i,u)&&pt(o,"set",n,i):pt(o,"add",n,i),this},delete(n){const i=Q(this),{has:o,get:a}=as(i);let l=o.call(i,n);l||(n=Q(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&pt(i,"delete",n,void 0),c},clear(){const n=Q(this),i=n.size!==0,o=n.clear();return i&&pt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=nu(n,t,e)}),r}function pi(t,e){const r=iu(t,e);return(s,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(te(r,n)&&n in s?r:s,n,i)}const ou={get:pi(!1,!1)},au={get:pi(!1,!0)},lu={get:pi(!0,!1)};const xa=new WeakMap,ja=new WeakMap,Na=new WeakMap,cu=new WeakMap;function uu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hu(t){return t.__v_skip||!Object.isExtensible(t)?0:uu(Uc(t))}function ss(t){return Nt(t)?t:gi(t,!1,tu,ou,xa)}function La(t){return gi(t,!1,su,au,ja)}function xn(t){return gi(t,!0,ru,lu,Na)}function gi(t,e,r,s,n){if(!ae(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=hu(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?s:r);return n.set(t,a),a}function xt(t){return Nt(t)?xt(t.__v_raw):!!(t&&t.__v_isReactive)}function Nt(t){return!!(t&&t.__v_isReadonly)}function We(t){return!!(t&&t.__v_isShallow)}function _i(t){return t?!!t.__v_raw:!1}function Q(t){const e=t&&t.__v_raw;return e?Q(e):t}function mi(t){return!te(t,"__v_skip")&&Object.isExtensible(t)&&pa(t,"__v_skip",!0),t}const ye=t=>ae(t)?ss(t):t,Os=t=>ae(t)?xn(t):t;function de(t){return t?t.__v_isRef===!0:!1}function Ct(t){return Da(t,!1)}function du(t){return Da(t,!0)}function Da(t,e){return de(t)?t:new fu(t,e)}class fu{constructor(e,r){this.dep=new fi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Q(e),this._value=r?e:ye(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,s=this.__v_isShallow||We(e)||Nt(e);e=s?e:Q(e),kt(e,r)&&(this._rawValue=e,this._value=s?e:ye(e),this.dep.trigger())}}function jt(t){return de(t)?t.value:t}const pu={get:(t,e,r)=>e==="__v_raw"?t:jt(Reflect.get(t,e,r)),set:(t,e,r,s)=>{const n=t[e];return de(n)&&!de(r)?(n.value=r,!0):Reflect.set(t,e,r,s)}};function Ua(t){return xt(t)?t:new Proxy(t,pu)}function gu(t){const e=H(t)?new Array(t.length):{};for(const r in t)e[r]=mu(t,r);return e}class _u{constructor(e,r,s){this._object=e,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return zc(Q(this._object),this._key)}}function mu(t,e,r){const s=t[e];return de(s)?s:new _u(t,e,r)}class vu{constructor(e,r,s){this.fn=e,this.setter=r,this._value=void 0,this.dep=new fi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Jr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&oe!==this)return Sa(this,!0),!0}get value(){const e=this.dep.track();return Aa(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function yu(t,e,r=!1){let s,n;return J(t)?s=t:(s=t.get,n=t.set),new vu(s,n,r)}const cs={},As=new WeakMap;let Ht;function wu(t,e=!1,r=Ht){if(r){let s=As.get(r);s||As.set(r,s=[]),s.push(t)}}function bu(t,e,r=se){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=r,c=R=>n?R:We(R)||n===!1||n===0?gt(R,1):gt(R);let u,h,d,f,m=!1,v=!1;if(de(t)?(h=()=>t.value,m=We(t)):xt(t)?(h=()=>c(t),m=!0):H(t)?(v=!0,m=t.some(R=>xt(R)||We(R)),h=()=>t.map(R=>{if(de(R))return R.value;if(xt(R))return c(R);if(J(R))return l?l(R,2):R()})):J(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){_t();try{d()}finally{mt()}}const R=Ht;Ht=u;try{return l?l(t,3,[f]):t(f)}finally{Ht=R}}:h=ot,e&&n){const R=h,D=n===!0?1/0:n;h=()=>gt(R(),D)}const y=wa(),w=()=>{u.stop(),y&&y.active&&ai(y.effects,u)};if(i&&e){const R=e;e=(...D)=>{R(...D),w()}}let b=v?new Array(t.length).fill(cs):cs;const E=R=>{if(!(!(u.flags&1)||!u.dirty&&!R))if(e){const D=u.run();if(n||m||(v?D.some((B,V)=>kt(B,b[V])):kt(D,b))){d&&d();const B=Ht;Ht=u;try{const V=[D,b===cs?void 0:v&&b[0]===cs?[]:b,f];b=D,l?l(e,3,V):e(...V)}finally{Ht=B}}}else u.run()};return a&&a(E),u=new ba(h),u.scheduler=o?()=>o(E,!1):E,f=R=>wu(R,!1,u),d=u.onStop=()=>{const R=As.get(u);if(R){if(l)l(R,4);else for(const D of R)D();As.delete(u)}},e?s?E(!0):b=u.run():o?o(E.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function gt(t,e=1/0,r){if(e<=0||!ae(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,de(t))gt(t.value,e,r);else if(H(t))for(let s=0;s<t.length;s++)gt(t[s],e,r);else if(ua(t)||_r(t))t.forEach(s=>{gt(s,e,r)});else if(fa(t)){for(const s in t)gt(t[s],e,r);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&gt(t[s],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ns(t,e,r,s){try{return s?t(...s):t()}catch(n){Ws(n,e,r)}}function at(t,e,r,s){if(J(t)){const n=ns(t,e,r,s);return n&&ha(n)&&n.catch(i=>{Ws(i,e,r)}),n}if(H(t)){const n=[];for(let i=0;i<t.length;i++)n.push(at(t[i],e,r,s));return n}}function Ws(t,e,r,s=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||se;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){_t(),ns(i,null,10,[t,l,c]),mt();return}}Eu(t,r,n,s,o)}function Eu(t,e,r,s=!0,n=!1){if(n)throw t;console.error(t)}const Ie=[];let nt=-1;const vr=[];let At=null,cr=0;const $a=Promise.resolve();let Rs=null;function vi(t){const e=Rs||$a;return t?e.then(this?t.bind(this):t):e}function Su(t){let e=nt+1,r=Ie.length;for(;e<r;){const s=e+r>>>1,n=Ie[s],i=Xr(n);i<t||i===t&&n.flags&2?e=s+1:r=s}return e}function yi(t){if(!(t.flags&1)){const e=Xr(t),r=Ie[Ie.length-1];!r||!(t.flags&2)&&e>=Xr(r)?Ie.push(t):Ie.splice(Su(e),0,t),t.flags|=1,Ma()}}function Ma(){Rs||(Rs=$a.then(Fa))}function Tu(t){H(t)?vr.push(...t):At&&t.id===-1?At.splice(cr+1,0,t):t.flags&1||(vr.push(t),t.flags|=1),Ma()}function Vi(t,e,r=nt+1){for(;r<Ie.length;r++){const s=Ie[r];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ie.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ba(t){if(vr.length){const e=[...new Set(vr)].sort((r,s)=>Xr(r)-Xr(s));if(vr.length=0,At){At.push(...e);return}for(At=e,cr=0;cr<At.length;cr++){const r=At[cr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}At=null,cr=0}}const Xr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Fa(t){try{for(nt=0;nt<Ie.length;nt++){const e=Ie[nt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ns(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;nt<Ie.length;nt++){const e=Ie[nt];e&&(e.flags&=-2)}nt=-1,Ie.length=0,Ba(),Rs=null,(Ie.length||vr.length)&&Fa()}}let Fe=null,Va=null;function Is(t){const e=Fe;return Fe=t,Va=t&&t.type.__scopeId||null,e}function Ou(t,e=Fe,r){if(!e||t._n)return t;const s=(...n)=>{s._d&&ks(-1);const i=Is(e);let o;try{o=t(...n)}finally{Is(i),s._d&&ks(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function p_(t,e){if(Fe===null)return t;const r=Xs(Fe),s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=se]=e[n];i&&(J(i)&&(i={mounted:i,updated:i}),i.deep&&gt(o),s.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Bt(t,e,r,s){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(_t(),at(l,r,8,[t.el,a,t,e]),mt())}}const Au=Symbol("_vte"),Ru=t=>t.__isTeleport,Iu=Symbol("_leaveCb");function wi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,wi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ks(t,e){return J(t)?Se({name:t.name},e,{setup:t}):t}function qa(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Cs=new WeakMap;function $r(t,e,r,s,n=!1){if(H(t)){t.forEach((m,v)=>$r(m,e&&(H(e)?e[v]:e),r,s,n));return}if(Mr(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&$r(t,e,r,s.component.subTree);return}const i=s.shapeFlag&4?Xs(s.component):s.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===se?a.refs={}:a.refs,h=a.setupState,d=Q(h),f=h===se?ca:m=>te(d,m);if(c!=null&&c!==l){if(qi(e),pe(c))u[c]=null,f(c)&&(h[c]=null);else if(de(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(J(l))ns(l,a,12,[o,u]);else{const m=pe(l),v=de(l);if(m||v){const y=()=>{if(t.f){const w=m?f(l)?h[l]:u[l]:l.value;if(n)H(w)&&ai(w,i);else if(H(w))w.includes(i)||w.push(i);else if(m)u[l]=[i],f(l)&&(h[l]=u[l]);else{const b=[i];l.value=b,t.k&&(u[t.k]=b)}}else m?(u[l]=o,f(l)&&(h[l]=o)):v&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const w=()=>{y(),Cs.delete(t)};w.id=-1,Cs.set(t,w),Ue(w,r)}else qi(t),y()}}}function qi(t){const e=Cs.get(t);e&&(e.flags|=8,Cs.delete(t))}qs().requestIdleCallback;qs().cancelIdleCallback;const Mr=t=>!!t.type.__asyncLoader,Ha=t=>t.type.__isKeepAlive;function Cu(t,e){Wa(t,"a",e)}function Pu(t,e){Wa(t,"da",e)}function Wa(t,e,r=Ee){const s=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Gs(e,s,r),r){let n=r.parent;for(;n&&n.parent;)Ha(n.parent.vnode)&&ku(s,e,r,n),n=n.parent}}function ku(t,e,r,s){const n=Gs(e,t,s,!0);Ga(()=>{ai(s[e],n)},r)}function Gs(t,e,r=Ee,s=!1){if(r){const n=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{_t();const a=is(r),l=at(e,r,t,o);return a(),mt(),l});return s?n.unshift(i):n.push(i),i}}const vt=t=>(e,r=Ee)=>{(!Qr||t==="sp")&&Gs(t,(...s)=>e(...s),r)},xu=vt("bm"),Ka=vt("m"),ju=vt("bu"),Nu=vt("u"),Lu=vt("bum"),Ga=vt("um"),Du=vt("sp"),Uu=vt("rtg"),$u=vt("rtc");function Mu(t,e=Ee){Gs("ec",t,e)}const Bu="components";function g_(t,e){return Vu(Bu,t,!0,e)||t}const Fu=Symbol.for("v-ndc");function Vu(t,e,r=!0,s=!1){const n=Fe||Ee;if(n){const i=n.type;{const a=xh(i,!1);if(a&&(a===e||a===Ge(e)||a===Vs(Ge(e))))return i}const o=Hi(n[t]||i[t],e)||Hi(n.appContext[t],e);return!o&&s?i:o}}function Hi(t,e){return t&&(t[e]||t[Ge(e)]||t[Vs(Ge(e))])}function __(t,e,r,s){let n;const i=r,o=H(t);if(o||pe(t)){const a=o&&xt(t);let l=!1,c=!1;a&&(l=!We(t),c=Nt(t),t=Hs(t)),n=new Array(t.length);for(let u=0,h=t.length;u<h;u++)n[u]=e(l?c?Os(ye(t[u])):ye(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ae(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,i)}}else n=[];return n}const jn=t=>t?pl(t)?Xs(t):jn(t.parent):null,Br=Se(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>jn(t.parent),$root:t=>jn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>za(t),$forceUpdate:t=>t.f||(t.f=()=>{yi(t.update)}),$nextTick:t=>t.n||(t.n=vi.bind(t.proxy)),$watch:t=>uh.bind(t)}),ln=(t,e)=>t!==se&&!t.__isScriptSetup&&te(t,e),qu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return n[e];case 4:return r[e];case 3:return i[e]}else{if(ln(s,e))return o[e]=1,s[e];if(n!==se&&te(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&te(c,e))return o[e]=3,i[e];if(r!==se&&te(r,e))return o[e]=4,r[e];Nn&&(o[e]=0)}}const u=Br[e];let h,d;if(u)return e==="$attrs"&&be(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(r!==se&&te(r,e))return o[e]=4,r[e];if(d=l.config.globalProperties,te(d,e))return d[e]},set({_:t},e,r){const{data:s,setupState:n,ctx:i}=t;return ln(n,e)?(n[e]=r,!0):s!==se&&te(s,e)?(s[e]=r,!0):te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:s,appContext:n,propsOptions:i,type:o}},a){let l,c;return!!(r[a]||t!==se&&a[0]!=="$"&&te(t,a)||ln(e,a)||(l=i[0])&&te(l,a)||te(s,a)||te(Br,a)||te(n.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:te(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Wi(t){return H(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Nn=!0;function Hu(t){const e=za(t),r=t.proxy,s=t.ctx;Nn=!1,e.beforeCreate&&Ki(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:m,activated:v,deactivated:y,beforeDestroy:w,beforeUnmount:b,destroyed:E,unmounted:R,render:D,renderTracked:B,renderTriggered:V,errorCaptured:W,serverPrefetch:q,expose:ce,inheritAttrs:Te,components:Le,directives:Pe,filters:$t}=e;if(c&&Wu(c,s,null),o)for(const z in o){const Z=o[z];J(Z)&&(s[z]=Z.bind(r))}if(n){const z=n.call(r,r);ae(z)&&(t.data=ss(z))}if(Nn=!0,i)for(const z in i){const Z=i[z],lt=J(Z)?Z.bind(r,r):J(Z.get)?Z.get.bind(r,r):ot,wt=!J(Z)&&J(Z.set)?Z.set.bind(r):ot,Ze=me({get:lt,set:wt});Object.defineProperty(s,z,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:ke=>Ze.value=ke})}if(a)for(const z in a)Ja(a[z],s,r,z);if(l){const z=J(l)?l.call(r):l;Reflect.ownKeys(z).forEach(Z=>{bs(Z,z[Z])})}u&&Ki(u,t,"c");function le(z,Z){H(Z)?Z.forEach(lt=>z(lt.bind(r))):Z&&z(Z.bind(r))}if(le(xu,h),le(Ka,d),le(ju,f),le(Nu,m),le(Cu,v),le(Pu,y),le(Mu,W),le($u,B),le(Uu,V),le(Lu,b),le(Ga,R),le(Du,q),H(ce))if(ce.length){const z=t.exposed||(t.exposed={});ce.forEach(Z=>{Object.defineProperty(z,Z,{get:()=>r[Z],set:lt=>r[Z]=lt,enumerable:!0})})}else t.exposed||(t.exposed={});D&&t.render===ot&&(t.render=D),Te!=null&&(t.inheritAttrs=Te),Le&&(t.components=Le),Pe&&(t.directives=Pe),q&&qa(t)}function Wu(t,e,r=ot){H(t)&&(t=Ln(t));for(const s in t){const n=t[s];let i;ae(n)?"default"in n?i=Ke(n.from||s,n.default,!0):i=Ke(n.from||s):i=Ke(n),de(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Ki(t,e,r){at(H(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,r)}function Ja(t,e,r,s){let n=s.includes(".")?ll(r,s):()=>r[s];if(pe(t)){const i=e[t];J(i)&&Fr(n,i)}else if(J(t))Fr(n,t.bind(r));else if(ae(t))if(H(t))t.forEach(i=>Ja(i,e,r,s));else{const i=J(t.handler)?t.handler.bind(r):e[t.handler];J(i)&&Fr(n,i,t)}}function za(t){const e=t.type,{mixins:r,extends:s}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!r&&!s?l=e:(l={},n.length&&n.forEach(c=>Ps(l,c,o,!0)),Ps(l,e,o)),ae(e)&&i.set(e,l),l}function Ps(t,e,r,s=!1){const{mixins:n,extends:i}=e;i&&Ps(t,i,r,!0),n&&n.forEach(o=>Ps(t,o,r,!0));for(const o in e)if(!(s&&o==="expose")){const a=Ku[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ku={data:Gi,props:Ji,emits:Ji,methods:xr,computed:xr,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:xr,directives:xr,watch:Ju,provide:Gi,inject:Gu};function Gi(t,e){return e?t?function(){return Se(J(t)?t.call(this,this):t,J(e)?e.call(this,this):e)}:e:t}function Gu(t,e){return xr(Ln(t),Ln(e))}function Ln(t){if(H(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Oe(t,e){return t?[...new Set([].concat(t,e))]:e}function xr(t,e){return t?Se(Object.create(null),t,e):e}function Ji(t,e){return t?H(t)&&H(e)?[...new Set([...t,...e])]:Se(Object.create(null),Wi(t),Wi(e??{})):e}function Ju(t,e){if(!t)return e;if(!e)return t;const r=Se(Object.create(null),t);for(const s in e)r[s]=Oe(t[s],e[s]);return r}function Xa(){return{app:null,config:{isNativeTag:ca,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zu=0;function Xu(t,e){return function(s,n=null){J(s)||(s=Se({},s)),n!=null&&!ae(n)&&(n=null);const i=Xa(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:zu++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:Nh,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&J(u.install)?(o.add(u),u.install(c,...h)):J(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||Ce(s,n);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(f,u,d),l=!0,c._container=u,u.__vue_app__=c,Xs(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(at(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=Yt;Yt=c;try{return u()}finally{Yt=h}}};return c}}let Yt=null;function bs(t,e){if(Ee){let r=Ee.provides;const s=Ee.parent&&Ee.parent.provides;s===r&&(r=Ee.provides=Object.create(s)),r[t]=e}}function Ke(t,e,r=!1){const s=fl();if(s||Yt){let n=Yt?Yt._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&J(e)?e.call(s&&s.proxy):e}}function Yu(){return!!(fl()||Yt)}const Ya={},Qa=()=>Object.create(Ya),Za=t=>Object.getPrototypeOf(t)===Ya;function Qu(t,e,r,s=!1){const n={},i=Qa();t.propsDefaults=Object.create(null),el(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=s?n:La(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Zu(t,e,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=Q(n),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Js(t.emitsOptions,d))continue;const f=e[d];if(l)if(te(i,d))f!==i[d]&&(i[d]=f,c=!0);else{const m=Ge(d);n[m]=Dn(l,a,m,f,t,!1)}else f!==i[d]&&(i[d]=f,c=!0)}}}else{el(t,e,n,i)&&(c=!0);let u;for(const h in a)(!e||!te(e,h)&&((u=Qt(h))===h||!te(e,u)))&&(l?r&&(r[h]!==void 0||r[u]!==void 0)&&(n[h]=Dn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!te(e,h))&&(delete i[h],c=!0)}c&&pt(t.attrs,"set","")}function el(t,e,r,s){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Lr(l))continue;const c=e[l];let u;n&&te(n,u=Ge(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:Js(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=Q(r),c=a||se;for(let u=0;u<i.length;u++){const h=i[u];r[h]=Dn(n,l,h,c[h],t,!te(c,h))}}return o}function Dn(t,e,r,s,n,i){const o=t[r];if(o!=null){const a=te(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&J(l)){const{propsDefaults:c}=n;if(r in c)s=c[r];else{const u=is(n);s=c[r]=l.call(null,e),u()}}else s=l;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Qt(r))&&(s=!0))}return s}const eh=new WeakMap;function tl(t,e,r=!1){const s=r?eh:e.propsCache,n=s.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!J(t)){const u=h=>{l=!0;const[d,f]=tl(h,e,!0);Se(o,d),f&&a.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return ae(t)&&s.set(t,gr),gr;if(H(i))for(let u=0;u<i.length;u++){const h=Ge(i[u]);zi(h)&&(o[h]=se)}else if(i)for(const u in i){const h=Ge(u);if(zi(h)){const d=i[u],f=o[h]=H(d)||J(d)?{type:d}:Se({},d),m=f.type;let v=!1,y=!0;if(H(m))for(let w=0;w<m.length;++w){const b=m[w],E=J(b)&&b.name;if(E==="Boolean"){v=!0;break}else E==="String"&&(y=!1)}else v=J(m)&&m.name==="Boolean";f[0]=v,f[1]=y,(v||te(f,"default"))&&a.push(h)}}const c=[o,a];return ae(t)&&s.set(t,c),c}function zi(t){return t[0]!=="$"&&!Lr(t)}const bi=t=>t==="_"||t==="_ctx"||t==="$stable",Ei=t=>H(t)?t.map(it):[it(t)],th=(t,e,r)=>{if(e._n)return e;const s=Ou((...n)=>Ei(e(...n)),r);return s._c=!1,s},rl=(t,e,r)=>{const s=t._ctx;for(const n in t){if(bi(n))continue;const i=t[n];if(J(i))e[n]=th(n,i,s);else if(i!=null){const o=Ei(i);e[n]=()=>o}}},sl=(t,e)=>{const r=Ei(e);t.slots.default=()=>r},nl=(t,e,r)=>{for(const s in e)(r||!bi(s))&&(t[s]=e[s])},rh=(t,e,r)=>{const s=t.slots=Qa();if(t.vnode.shapeFlag&32){const n=e._;n?(nl(s,e,r),r&&pa(s,"_",n,!0)):rl(e,s)}else e&&sl(t,e)},sh=(t,e,r)=>{const{vnode:s,slots:n}=t;let i=!0,o=se;if(s.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:nl(n,e,r):(i=!e.$stable,rl(e,n)),o=e}else e&&(sl(t,e),o={default:1});if(i)for(const a in n)!bi(a)&&o[a]==null&&delete n[a]},Ue=vh;function nh(t){return ih(t)}function ih(t,e){const r=qs();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=ot,insertStaticContent:m}=t,v=(p,g,_,T=null,A=null,S=null,k=void 0,P=null,C=!!g.dynamicChildren)=>{if(p===g)return;p&&!Pr(p,g)&&(T=O(p),ke(p,A,S,!0),p=null),g.patchFlag===-2&&(C=!1,g.dynamicChildren=null);const{type:I,ref:F,shapeFlag:j}=g;switch(I){case zs:y(p,g,_,T);break;case Lt:w(p,g,_,T);break;case un:p==null&&b(g,_,T,k);break;case ft:Le(p,g,_,T,A,S,k,P,C);break;default:j&1?D(p,g,_,T,A,S,k,P,C):j&6?Pe(p,g,_,T,A,S,k,P,C):(j&64||j&128)&&I.process(p,g,_,T,A,S,k,P,C,U)}F!=null&&A?$r(F,p&&p.ref,S,g||p,!g):F==null&&p&&p.ref!=null&&$r(p.ref,null,S,p,!0)},y=(p,g,_,T)=>{if(p==null)s(g.el=a(g.children),_,T);else{const A=g.el=p.el;g.children!==p.children&&c(A,g.children)}},w=(p,g,_,T)=>{p==null?s(g.el=l(g.children||""),_,T):g.el=p.el},b=(p,g,_,T)=>{[p.el,p.anchor]=m(p.children,g,_,T,p.el,p.anchor)},E=({el:p,anchor:g},_,T)=>{let A;for(;p&&p!==g;)A=d(p),s(p,_,T),p=A;s(g,_,T)},R=({el:p,anchor:g})=>{let _;for(;p&&p!==g;)_=d(p),n(p),p=_;n(g)},D=(p,g,_,T,A,S,k,P,C)=>{g.type==="svg"?k="svg":g.type==="math"&&(k="mathml"),p==null?B(g,_,T,A,S,k,P,C):q(p,g,A,S,k,P,C)},B=(p,g,_,T,A,S,k,P)=>{let C,I;const{props:F,shapeFlag:j,transition:$,dirs:K}=p;if(C=p.el=o(p.type,S,F&&F.is,F),j&8?u(C,p.children):j&16&&W(p.children,C,null,T,A,cn(p,S),k,P),K&&Bt(p,null,T,"created"),V(C,p,p.scopeId,k,T),F){for(const ne in F)ne!=="value"&&!Lr(ne)&&i(C,ne,null,F[ne],S,T);"value"in F&&i(C,"value",null,F.value,S),(I=F.onVnodeBeforeMount)&&st(I,T,p)}K&&Bt(p,null,T,"beforeMount");const Y=oh(A,$);Y&&$.beforeEnter(C),s(C,g,_),((I=F&&F.onVnodeMounted)||Y||K)&&Ue(()=>{I&&st(I,T,p),Y&&$.enter(C),K&&Bt(p,null,T,"mounted")},A)},V=(p,g,_,T,A)=>{if(_&&f(p,_),T)for(let S=0;S<T.length;S++)f(p,T[S]);if(A){let S=A.subTree;if(g===S||ul(S.type)&&(S.ssContent===g||S.ssFallback===g)){const k=A.vnode;V(p,k,k.scopeId,k.slotScopeIds,A.parent)}}},W=(p,g,_,T,A,S,k,P,C=0)=>{for(let I=C;I<p.length;I++){const F=p[I]=P?Rt(p[I]):it(p[I]);v(null,F,g,_,T,A,S,k,P)}},q=(p,g,_,T,A,S,k)=>{const P=g.el=p.el;let{patchFlag:C,dynamicChildren:I,dirs:F}=g;C|=p.patchFlag&16;const j=p.props||se,$=g.props||se;let K;if(_&&Ft(_,!1),(K=$.onVnodeBeforeUpdate)&&st(K,_,g,p),F&&Bt(g,p,_,"beforeUpdate"),_&&Ft(_,!0),(j.innerHTML&&$.innerHTML==null||j.textContent&&$.textContent==null)&&u(P,""),I?ce(p.dynamicChildren,I,P,_,T,cn(g,A),S):k||Z(p,g,P,null,_,T,cn(g,A),S,!1),C>0){if(C&16)Te(P,j,$,_,A);else if(C&2&&j.class!==$.class&&i(P,"class",null,$.class,A),C&4&&i(P,"style",j.style,$.style,A),C&8){const Y=g.dynamicProps;for(let ne=0;ne<Y.length;ne++){const re=Y[ne],xe=j[re],je=$[re];(je!==xe||re==="value")&&i(P,re,xe,je,A,_)}}C&1&&p.children!==g.children&&u(P,g.children)}else!k&&I==null&&Te(P,j,$,_,A);((K=$.onVnodeUpdated)||F)&&Ue(()=>{K&&st(K,_,g,p),F&&Bt(g,p,_,"updated")},T)},ce=(p,g,_,T,A,S,k)=>{for(let P=0;P<g.length;P++){const C=p[P],I=g[P],F=C.el&&(C.type===ft||!Pr(C,I)||C.shapeFlag&198)?h(C.el):_;v(C,I,F,null,T,A,S,k,!0)}},Te=(p,g,_,T,A)=>{if(g!==_){if(g!==se)for(const S in g)!Lr(S)&&!(S in _)&&i(p,S,g[S],null,A,T);for(const S in _){if(Lr(S))continue;const k=_[S],P=g[S];k!==P&&S!=="value"&&i(p,S,P,k,A,T)}"value"in _&&i(p,"value",g.value,_.value,A)}},Le=(p,g,_,T,A,S,k,P,C)=>{const I=g.el=p?p.el:a(""),F=g.anchor=p?p.anchor:a("");let{patchFlag:j,dynamicChildren:$,slotScopeIds:K}=g;K&&(P=P?P.concat(K):K),p==null?(s(I,_,T),s(F,_,T),W(g.children||[],_,F,A,S,k,P,C)):j>0&&j&64&&$&&p.dynamicChildren?(ce(p.dynamicChildren,$,_,A,S,k,P),(g.key!=null||A&&g===A.subTree)&&il(p,g,!0)):Z(p,g,_,F,A,S,k,P,C)},Pe=(p,g,_,T,A,S,k,P,C)=>{g.slotScopeIds=P,p==null?g.shapeFlag&512?A.ctx.activate(g,_,T,k,C):$t(g,_,T,A,S,k,C):yt(p,g,C)},$t=(p,g,_,T,A,S,k)=>{const P=p.component=Rh(p,T,A);if(Ha(p)&&(P.ctx.renderer=U),Ih(P,!1,k),P.asyncDep){if(A&&A.registerDep(P,le,k),!p.el){const C=P.subTree=Ce(Lt);w(null,C,g,_),p.placeholder=C.el}}else le(P,p,g,_,A,S,k)},yt=(p,g,_)=>{const T=g.component=p.component;if(_h(p,g,_))if(T.asyncDep&&!T.asyncResolved){z(T,g,_);return}else T.next=g,T.update();else g.el=p.el,T.vnode=g},le=(p,g,_,T,A,S,k)=>{const P=()=>{if(p.isMounted){let{next:j,bu:$,u:K,parent:Y,vnode:ne}=p;{const tt=ol(p);if(tt){j&&(j.el=ne.el,z(p,j,k)),tt.asyncDep.then(()=>{p.isUnmounted||P()});return}}let re=j,xe;Ft(p,!1),j?(j.el=ne.el,z(p,j,k)):j=ne,$&&ws($),(xe=j.props&&j.props.onVnodeBeforeUpdate)&&st(xe,Y,j,ne),Ft(p,!0);const je=Yi(p),et=p.subTree;p.subTree=je,v(et,je,h(et.el),O(et),p,A,S),j.el=je.el,re===null&&mh(p,je.el),K&&Ue(K,A),(xe=j.props&&j.props.onVnodeUpdated)&&Ue(()=>st(xe,Y,j,ne),A)}else{let j;const{el:$,props:K}=g,{bm:Y,m:ne,parent:re,root:xe,type:je}=p,et=Mr(g);Ft(p,!1),Y&&ws(Y),!et&&(j=K&&K.onVnodeBeforeMount)&&st(j,re,g),Ft(p,!0);{xe.ce&&xe.ce._def.shadowRoot!==!1&&xe.ce._injectChildStyle(je);const tt=p.subTree=Yi(p);v(null,tt,_,T,p,A,S),g.el=tt.el}if(ne&&Ue(ne,A),!et&&(j=K&&K.onVnodeMounted)){const tt=g;Ue(()=>st(j,re,tt),A)}(g.shapeFlag&256||re&&Mr(re.vnode)&&re.vnode.shapeFlag&256)&&p.a&&Ue(p.a,A),p.isMounted=!0,g=_=T=null}};p.scope.on();const C=p.effect=new ba(P);p.scope.off();const I=p.update=C.run.bind(C),F=p.job=C.runIfDirty.bind(C);F.i=p,F.id=p.uid,C.scheduler=()=>yi(F),Ft(p,!0),I()},z=(p,g,_)=>{g.component=p;const T=p.vnode.props;p.vnode=g,p.next=null,Zu(p,g.props,T,_),sh(p,g.children,_),_t(),Vi(p),mt()},Z=(p,g,_,T,A,S,k,P,C=!1)=>{const I=p&&p.children,F=p?p.shapeFlag:0,j=g.children,{patchFlag:$,shapeFlag:K}=g;if($>0){if($&128){wt(I,j,_,T,A,S,k,P,C);return}else if($&256){lt(I,j,_,T,A,S,k,P,C);return}}K&8?(F&16&&He(I,A,S),j!==I&&u(_,j)):F&16?K&16?wt(I,j,_,T,A,S,k,P,C):He(I,A,S,!0):(F&8&&u(_,""),K&16&&W(j,_,T,A,S,k,P,C))},lt=(p,g,_,T,A,S,k,P,C)=>{p=p||gr,g=g||gr;const I=p.length,F=g.length,j=Math.min(I,F);let $;for($=0;$<j;$++){const K=g[$]=C?Rt(g[$]):it(g[$]);v(p[$],K,_,null,A,S,k,P,C)}I>F?He(p,A,S,!0,!1,j):W(g,_,T,A,S,k,P,C,j)},wt=(p,g,_,T,A,S,k,P,C)=>{let I=0;const F=g.length;let j=p.length-1,$=F-1;for(;I<=j&&I<=$;){const K=p[I],Y=g[I]=C?Rt(g[I]):it(g[I]);if(Pr(K,Y))v(K,Y,_,null,A,S,k,P,C);else break;I++}for(;I<=j&&I<=$;){const K=p[j],Y=g[$]=C?Rt(g[$]):it(g[$]);if(Pr(K,Y))v(K,Y,_,null,A,S,k,P,C);else break;j--,$--}if(I>j){if(I<=$){const K=$+1,Y=K<F?g[K].el:T;for(;I<=$;)v(null,g[I]=C?Rt(g[I]):it(g[I]),_,Y,A,S,k,P,C),I++}}else if(I>$)for(;I<=j;)ke(p[I],A,S,!0),I++;else{const K=I,Y=I,ne=new Map;for(I=Y;I<=$;I++){const De=g[I]=C?Rt(g[I]):it(g[I]);De.key!=null&&ne.set(De.key,I)}let re,xe=0;const je=$-Y+1;let et=!1,tt=0;const Ir=new Array(je);for(I=0;I<je;I++)Ir[I]=0;for(I=K;I<=j;I++){const De=p[I];if(xe>=je){ke(De,A,S,!0);continue}let rt;if(De.key!=null)rt=ne.get(De.key);else for(re=Y;re<=$;re++)if(Ir[re-Y]===0&&Pr(De,g[re])){rt=re;break}rt===void 0?ke(De,A,S,!0):(Ir[rt-Y]=I+1,rt>=tt?tt=rt:et=!0,v(De,g[rt],_,null,A,S,k,P,C),xe++)}const Di=et?ah(Ir):gr;for(re=Di.length-1,I=je-1;I>=0;I--){const De=Y+I,rt=g[De],Ui=g[De+1],$i=De+1<F?Ui.el||Ui.placeholder:T;Ir[I]===0?v(null,rt,_,$i,A,S,k,P,C):et&&(re<0||I!==Di[re]?Ze(rt,_,$i,2):re--)}}},Ze=(p,g,_,T,A=null)=>{const{el:S,type:k,transition:P,children:C,shapeFlag:I}=p;if(I&6){Ze(p.component.subTree,g,_,T);return}if(I&128){p.suspense.move(g,_,T);return}if(I&64){k.move(p,g,_,U);return}if(k===ft){s(S,g,_);for(let j=0;j<C.length;j++)Ze(C[j],g,_,T);s(p.anchor,g,_);return}if(k===un){E(p,g,_);return}if(T!==2&&I&1&&P)if(T===0)P.beforeEnter(S),s(S,g,_),Ue(()=>P.enter(S),A);else{const{leave:j,delayLeave:$,afterLeave:K}=P,Y=()=>{p.ctx.isUnmounted?n(S):s(S,g,_)},ne=()=>{S._isLeaving&&S[Iu](!0),j(S,()=>{Y(),K&&K()})};$?$(S,Y,ne):ne()}else s(S,g,_)},ke=(p,g,_,T=!1,A=!1)=>{const{type:S,props:k,ref:P,children:C,dynamicChildren:I,shapeFlag:F,patchFlag:j,dirs:$,cacheIndex:K}=p;if(j===-2&&(A=!1),P!=null&&(_t(),$r(P,null,_,p,!0),mt()),K!=null&&(g.renderCache[K]=void 0),F&256){g.ctx.deactivate(p);return}const Y=F&1&&$,ne=!Mr(p);let re;if(ne&&(re=k&&k.onVnodeBeforeUnmount)&&st(re,g,p),F&6)Mt(p.component,_,T);else{if(F&128){p.suspense.unmount(_,T);return}Y&&Bt(p,null,g,"beforeUnmount"),F&64?p.type.remove(p,g,_,U,T):I&&!I.hasOnce&&(S!==ft||j>0&&j&64)?He(I,g,_,!1,!0):(S===ft&&j&384||!A&&F&16)&&He(C,g,_),T&&er(p)}(ne&&(re=k&&k.onVnodeUnmounted)||Y)&&Ue(()=>{re&&st(re,g,p),Y&&Bt(p,null,g,"unmounted")},_)},er=p=>{const{type:g,el:_,anchor:T,transition:A}=p;if(g===ft){tr(_,T);return}if(g===un){R(p);return}const S=()=>{n(_),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(p.shapeFlag&1&&A&&!A.persisted){const{leave:k,delayLeave:P}=A,C=()=>k(_,S);P?P(p.el,S,C):C()}else S()},tr=(p,g)=>{let _;for(;p!==g;)_=d(p),n(p),p=_;n(g)},Mt=(p,g,_)=>{const{bum:T,scope:A,job:S,subTree:k,um:P,m:C,a:I}=p;Xi(C),Xi(I),T&&ws(T),A.stop(),S&&(S.flags|=8,ke(k,p,g,_)),P&&Ue(P,g),Ue(()=>{p.isUnmounted=!0},g)},He=(p,g,_,T=!1,A=!1,S=0)=>{for(let k=S;k<p.length;k++)ke(p[k],g,_,T,A)},O=p=>{if(p.shapeFlag&6)return O(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),_=g&&g[Au];return _?d(_):g};let N=!1;const x=(p,g,_)=>{p==null?g._vnode&&ke(g._vnode,null,null,!0):v(g._vnode||null,p,g,null,null,null,_),g._vnode=p,N||(N=!0,Vi(),Ba(),N=!1)},U={p:v,um:ke,m:Ze,r:er,mt:$t,mc:W,pc:Z,pbc:ce,n:O,o:t};return{render:x,hydrate:void 0,createApp:Xu(x)}}function cn({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Ft({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function oh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function il(t,e,r=!1){const s=t.children,n=e.children;if(H(s)&&H(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Rt(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&il(o,a)),a.type===zs&&a.patchFlag!==-1&&(a.el=o.el),a.type===Lt&&!a.el&&(a.el=o.el)}}function ah(t){const e=t.slice(),r=[0];let s,n,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(n=r[r.length-1],t[n]<c){e[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<c?i=a+1:o=a;c<t[r[i]]&&(i>0&&(e[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function ol(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ol(e)}function Xi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const lh=Symbol.for("v-scx"),ch=()=>Ke(lh);function Fr(t,e,r){return al(t,e,r)}function al(t,e,r=se){const{immediate:s,deep:n,flush:i,once:o}=r,a=Se({},r),l=e&&s||!e&&i!=="post";let c;if(Qr){if(i==="sync"){const f=ch();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=ot,f.resume=ot,f.pause=ot,f}}const u=Ee;a.call=(f,m,v)=>at(f,u,m,v);let h=!1;i==="post"?a.scheduler=f=>{Ue(f,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,m)=>{m?f():yi(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=bu(t,e,a);return Qr&&(c?c.push(d):l&&d()),d}function uh(t,e,r){const s=this.proxy,n=pe(t)?t.includes(".")?ll(s,t):()=>s[t]:t.bind(s,s);let i;J(e)?i=e:(i=e.handler,r=e);const o=is(this),a=al(n,i.bind(s),r);return o(),a}function ll(t,e){const r=e.split(".");return()=>{let s=t;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const hh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ge(e)}Modifiers`]||t[`${Qt(e)}Modifiers`];function dh(t,e,...r){if(t.isUnmounted)return;const s=t.vnode.props||se;let n=r;const i=e.startsWith("update:"),o=i&&hh(s,e.slice(7));o&&(o.trim&&(n=r.map(u=>pe(u)?u.trim():u)),o.number&&(n=r.map(In)));let a,l=s[a=rn(e)]||s[a=rn(Ge(e))];!l&&i&&(l=s[a=rn(Qt(e))]),l&&at(l,t,6,n);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,at(c,t,6,n)}}const fh=new WeakMap;function cl(t,e,r=!1){const s=r?fh:e.emitsCache,n=s.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!J(t)){const l=c=>{const u=cl(c,e,!0);u&&(a=!0,Se(o,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ae(t)&&s.set(t,null),null):(H(i)?i.forEach(l=>o[l]=null):Se(o,i),ae(t)&&s.set(t,o),o)}function Js(t,e){return!t||!Ms(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(t,e[0].toLowerCase()+e.slice(1))||te(t,Qt(e))||te(t,e))}function Yi(t){const{type:e,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:m,inheritAttrs:v}=t,y=Is(t);let w,b;try{if(r.shapeFlag&4){const R=n||s,D=R;w=it(c.call(D,R,u,h,f,d,m)),b=a}else{const R=e;w=it(R.length>1?R(h,{attrs:a,slots:o,emit:l}):R(h,null)),b=e.props?a:ph(a)}}catch(R){Vr.length=0,Ws(R,t,1),w=Ce(Lt)}let E=w;if(b&&v!==!1){const R=Object.keys(b),{shapeFlag:D}=E;R.length&&D&7&&(i&&R.some(oi)&&(b=gh(b,i)),E=wr(E,b,!1,!0))}return r.dirs&&(E=wr(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&wi(E,r.transition),w=E,Is(y),w}const ph=t=>{let e;for(const r in t)(r==="class"||r==="style"||Ms(r))&&((e||(e={}))[r]=t[r]);return e},gh=(t,e)=>{const r={};for(const s in t)(!oi(s)||!(s.slice(9)in e))&&(r[s]=t[s]);return r};function _h(t,e,r){const{props:s,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?Qi(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!Js(c,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Qi(s,o,c):!0:!!o;return!1}function Qi(t,e,r){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(e[i]!==t[i]&&!Js(r,i))return!0}return!1}function mh({vnode:t,parent:e},r){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=r,e=e.parent;else break}}const ul=t=>t.__isSuspense;function vh(t,e){e&&e.pendingBranch?H(t)?e.effects.push(...t):e.effects.push(t):Tu(t)}const ft=Symbol.for("v-fgt"),zs=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),un=Symbol.for("v-stc"),Vr=[];let Ve=null;function pr(t=!1){Vr.push(Ve=t?null:[])}function yh(){Vr.pop(),Ve=Vr[Vr.length-1]||null}let Yr=1;function ks(t,e=!1){Yr+=t,t<0&&Ve&&e&&(Ve.hasOnce=!0)}function hl(t){return t.dynamicChildren=Yr>0?Ve||gr:null,yh(),Yr>0&&Ve&&Ve.push(t),t}function jr(t,e,r,s,n,i){return hl(ve(t,e,r,s,n,i,!0))}function wh(t,e,r,s,n){return hl(Ce(t,e,r,s,n,!0))}function xs(t){return t?t.__v_isVNode===!0:!1}function Pr(t,e){return t.type===e.type&&t.key===e.key}const dl=({key:t})=>t??null,Es=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?pe(t)||de(t)||J(t)?{i:Fe,r:t,k:e,f:!!r}:t:null);function ve(t,e=null,r=null,s=0,n=null,i=t===ft?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&dl(e),ref:e&&Es(e),scopeId:Va,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Fe};return a?(Si(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=pe(r)?8:16),Yr>0&&!o&&Ve&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ve.push(l),l}const Ce=bh;function bh(t,e=null,r=null,s=0,n=null,i=!1){if((!t||t===Fu)&&(t=Lt),xs(t)){const a=wr(t,e,!0);return r&&Si(a,r),Yr>0&&!i&&Ve&&(a.shapeFlag&6?Ve[Ve.indexOf(t)]=a:Ve.push(a)),a.patchFlag=-2,a}if(jh(t)&&(t=t.__vccOpts),e){e=Eh(e);let{class:a,style:l}=e;a&&!pe(a)&&(e.class=mr(a)),ae(l)&&(_i(l)&&!H(l)&&(l=Se({},l)),e.style=ci(l))}const o=pe(t)?1:ul(t)?128:Ru(t)?64:ae(t)?4:J(t)?2:0;return ve(t,e,r,s,n,o,i,!0)}function Eh(t){return t?_i(t)||Za(t)?Se({},t):t:null}function wr(t,e,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?Th(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&dl(c),ref:e&&e.ref?r&&i?H(i)?i.concat(Es(e)):[i,Es(e)]:Es(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ft?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&wr(t.ssContent),ssFallback:t.ssFallback&&wr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&wi(u,l.clone(u)),u}function Sh(t=" ",e=0){return Ce(zs,null,t,e)}function us(t="",e=!1){return e?(pr(),wh(Lt,null,t)):Ce(Lt,null,t)}function it(t){return t==null||typeof t=="boolean"?Ce(Lt):H(t)?Ce(ft,null,t.slice()):xs(t)?Rt(t):Ce(zs,null,String(t))}function Rt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:wr(t)}function Si(t,e){let r=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(H(e))r=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),Si(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!Za(e)?e._ctx=Fe:n===3&&Fe&&(Fe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else J(e)?(e={default:e,_ctx:Fe},r=32):(e=String(e),s&64?(r=16,e=[Sh(e)]):r=8);t.children=e,t.shapeFlag|=r}function Th(...t){const e={};for(let r=0;r<t.length;r++){const s=t[r];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=mr([e.class,s.class]));else if(n==="style")e.style=ci([e.style,s.style]);else if(Ms(n)){const i=e[n],o=s[n];o&&i!==o&&!(H(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=s[n])}return e}function st(t,e,r,s=null){at(t,e,7,[r,s])}const Oh=Xa();let Ah=0;function Rh(t,e,r){const s=t.type,n=(e?e.appContext:t.appContext)||Oh,i={uid:Ah++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new va(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tl(s,n),emitsOptions:cl(s,n),emit:null,emitted:null,propsDefaults:se,inheritAttrs:s.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=dh.bind(null,i),t.ce&&t.ce(i),i}let Ee=null;const fl=()=>Ee||Fe;let js,Un;{const t=qs(),e=(r,s)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};js=e("__VUE_INSTANCE_SETTERS__",r=>Ee=r),Un=e("__VUE_SSR_SETTERS__",r=>Qr=r)}const is=t=>{const e=Ee;return js(t),t.scope.on(),()=>{t.scope.off(),js(e)}},Zi=()=>{Ee&&Ee.scope.off(),js(null)};function pl(t){return t.vnode.shapeFlag&4}let Qr=!1;function Ih(t,e=!1,r=!1){e&&Un(e);const{props:s,children:n}=t.vnode,i=pl(t);Qu(t,s,i,e),rh(t,n,r||e);const o=i?Ch(t,e):void 0;return e&&Un(!1),o}function Ch(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,qu);const{setup:s}=r;if(s){_t();const n=t.setupContext=s.length>1?kh(t):null,i=is(t),o=ns(s,t,0,[t.props,n]),a=ha(o);if(mt(),i(),(a||t.sp)&&!Mr(t)&&qa(t),a){if(o.then(Zi,Zi),e)return o.then(l=>{eo(t,l)}).catch(l=>{Ws(l,t,0)});t.asyncDep=o}else eo(t,o)}else gl(t)}function eo(t,e,r){J(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ae(e)&&(t.setupState=Ua(e)),gl(t)}function gl(t,e,r){const s=t.type;t.render||(t.render=s.render||ot);{const n=is(t);_t();try{Hu(t)}finally{mt(),n()}}}const Ph={get(t,e){return be(t,"get",""),t[e]}};function kh(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Ph),slots:t.slots,emit:t.emit,expose:e}}function Xs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ua(mi(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Br)return Br[r](t)},has(e,r){return r in e||r in Br}})):t.proxy}function xh(t,e=!0){return J(t)?t.displayName||t.name:t.name||e&&t.__name}function jh(t){return J(t)&&"__vccOpts"in t}const me=(t,e)=>yu(t,e,Qr);function _l(t,e,r){try{ks(-1);const s=arguments.length;return s===2?ae(e)&&!H(e)?xs(e)?Ce(t,null,[e]):Ce(t,e):Ce(t,null,e):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&xs(r)&&(r=[r]),Ce(t,e,r))}finally{ks(1)}}const Nh="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $n;const to=typeof window<"u"&&window.trustedTypes;if(to)try{$n=to.createPolicy("vue",{createHTML:t=>t})}catch{}const ml=$n?t=>$n.createHTML(t):t=>t,Lh="http://www.w3.org/2000/svg",Dh="http://www.w3.org/1998/Math/MathML",ht=typeof document<"u"?document:null,ro=ht&&ht.createElement("template"),Uh={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,s)=>{const n=e==="svg"?ht.createElementNS(Lh,t):e==="mathml"?ht.createElementNS(Dh,t):r?ht.createElement(t,{is:r}):ht.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>ht.createTextNode(t),createComment:t=>ht.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ht.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,s,n,i){const o=r?r.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{ro.innerHTML=ml(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=ro.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},$h=Symbol("_vtc");function Mh(t,e,r){const s=t[$h];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const so=Symbol("_vod"),Bh=Symbol("_vsh"),Fh=Symbol(""),Vh=/(?:^|;)\s*display\s*:/;function qh(t,e,r){const s=t.style,n=pe(r);let i=!1;if(r&&!n){if(e)if(pe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Ss(s,a,"")}else for(const o in e)r[o]==null&&Ss(s,o,"");for(const o in r)o==="display"&&(i=!0),Ss(s,o,r[o])}else if(n){if(e!==r){const o=s[Fh];o&&(r+=";"+o),s.cssText=r,i=Vh.test(r)}}else e&&t.removeAttribute("style");so in t&&(t[so]=i?s.display:"",t[Bh]&&(s.display="none"))}const no=/\s*!important$/;function Ss(t,e,r){if(H(r))r.forEach(s=>Ss(t,e,s));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const s=Hh(t,e);no.test(r)?t.setProperty(Qt(s),r.replace(no,""),"important"):t[s]=r}}const io=["Webkit","Moz","ms"],hn={};function Hh(t,e){const r=hn[e];if(r)return r;let s=Ge(e);if(s!=="filter"&&s in t)return hn[e]=s;s=Vs(s);for(let n=0;n<io.length;n++){const i=io[n]+s;if(i in t)return hn[e]=i}return e}const oo="http://www.w3.org/1999/xlink";function ao(t,e,r,s,n,i=Wc(e)){s&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(oo,e.slice(6,e.length)):t.setAttributeNS(oo,e,r):r==null||i&&!ga(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Dt(r)?String(r):r)}function lo(t,e,r,s,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?ml(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=ga(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(n||e)}function ur(t,e,r,s){t.addEventListener(e,r,s)}function Wh(t,e,r,s){t.removeEventListener(e,r,s)}const co=Symbol("_vei");function Kh(t,e,r,s,n=null){const i=t[co]||(t[co]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Gh(e);if(s){const c=i[e]=Xh(s,n);ur(t,a,c,l)}else o&&(Wh(t,a,o,l),i[e]=void 0)}}const uo=/(?:Once|Passive|Capture)$/;function Gh(t){let e;if(uo.test(t)){e={};let s;for(;s=t.match(uo);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qt(t.slice(2)),e]}let dn=0;const Jh=Promise.resolve(),zh=()=>dn||(Jh.then(()=>dn=0),dn=Date.now());function Xh(t,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;at(Yh(s,r.value),e,5,[s])};return r.value=t,r.attached=zh(),r}function Yh(t,e){if(H(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const ho=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Qh=(t,e,r,s,n,i)=>{const o=n==="svg";e==="class"?Mh(t,s,o):e==="style"?qh(t,r,s):Ms(e)?oi(e)||Kh(t,e,r,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Zh(t,e,s,o))?(lo(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ao(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!pe(s))?lo(t,Ge(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),ao(t,e,s,o))};function Zh(t,e,r,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&ho(e)&&J(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ho(e)&&pe(r)?!1:e in t}const fo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return H(e)?r=>ws(e,r):e};function ed(t){t.target.composing=!0}function po(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fn=Symbol("_assign"),m_={created(t,{modifiers:{lazy:e,trim:r,number:s}},n){t[fn]=fo(n);const i=s||n.props&&n.props.type==="number";ur(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=In(a)),t[fn](a)}),r&&ur(t,"change",()=>{t.value=t.value.trim()}),e||(ur(t,"compositionstart",ed),ur(t,"compositionend",po),ur(t,"change",po))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:s,trim:n,number:i}},o){if(t[fn]=fo(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?In(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===r||n&&t.value.trim()===l)||(t.value=l))}},td=["ctrl","shift","alt","meta"],rd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>td.some(r=>t[`${r}Key`]&&!e.includes(r))},v_=(t,e)=>{const r=t._withMods||(t._withMods={}),s=e.join(".");return r[s]||(r[s]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=rd[e[o]];if(a&&a(n,e))return}return t(n,...i)})},sd=Se({patchProp:Qh},Uh);let go;function nd(){return go||(go=nh(sd))}const id=(...t)=>{const e=nd().createApp(...t),{mount:r}=e;return e.mount=s=>{const n=ad(s);if(!n)return;const i=e._component;!J(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,od(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function od(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ad(t){return pe(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let vl;const Ys=t=>vl=t,yl=Symbol();function Mn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var qr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(qr||(qr={}));function ld(){const t=ya(!0),e=t.run(()=>Ct({}));let r=[],s=[];const n=mi({install(i){Ys(n),n._a=i,i.provide(yl,n),i.config.globalProperties.$pinia=n,s.forEach(o=>r.push(o)),s=[]},use(i){return this._a?r.push(i):s.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const wl=()=>{};function _o(t,e,r,s=wl){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!r&&wa()&&Kc(n),n}function sr(t,...e){t.slice().forEach(r=>{r(...e)})}const cd=t=>t(),mo=Symbol(),pn=Symbol();function Bn(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,s)=>t.set(s,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const s=e[r],n=t[r];Mn(n)&&Mn(s)&&t.hasOwnProperty(r)&&!de(s)&&!xt(s)?t[r]=Bn(n,s):t[r]=s}return t}const ud=Symbol();function hd(t){return!Mn(t)||!t.hasOwnProperty(ud)}const{assign:Tt}=Object;function dd(t){return!!(de(t)&&t.effect)}function fd(t,e,r,s){const{state:n,actions:i,getters:o}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=n?n():{});const u=gu(r.state.value[t]);return Tt(u,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=mi(me(()=>{Ys(r);const f=r._s.get(t);return o[d].call(f,f)})),h),{}))}return l=bl(t,c,e,r,s,!0),l}function bl(t,e,r={},s,n,i){let o;const a=Tt({actions:{}},r),l={deep:!0};let c,u,h=[],d=[],f;const m=s.state.value[t];!i&&!m&&(s.state.value[t]={}),Ct({});let v;function y(W){let q;c=u=!1,typeof W=="function"?(W(s.state.value[t]),q={type:qr.patchFunction,storeId:t,events:f}):(Bn(s.state.value[t],W),q={type:qr.patchObject,payload:W,storeId:t,events:f});const ce=v=Symbol();vi().then(()=>{v===ce&&(c=!0)}),u=!0,sr(h,q,s.state.value[t])}const w=i?function(){const{state:q}=r,ce=q?q():{};this.$patch(Te=>{Tt(Te,ce)})}:wl;function b(){o.stop(),h=[],d=[],s._s.delete(t)}const E=(W,q="")=>{if(mo in W)return W[pn]=q,W;const ce=function(){Ys(s);const Te=Array.from(arguments),Le=[],Pe=[];function $t(z){Le.push(z)}function yt(z){Pe.push(z)}sr(d,{args:Te,name:ce[pn],store:D,after:$t,onError:yt});let le;try{le=W.apply(this&&this.$id===t?this:D,Te)}catch(z){throw sr(Pe,z),z}return le instanceof Promise?le.then(z=>(sr(Le,z),z)).catch(z=>(sr(Pe,z),Promise.reject(z))):(sr(Le,le),le)};return ce[mo]=!0,ce[pn]=q,ce},R={_p:s,$id:t,$onAction:_o.bind(null,d),$patch:y,$reset:w,$subscribe(W,q={}){const ce=_o(h,W,q.detached,()=>Te()),Te=o.run(()=>Fr(()=>s.state.value[t],Le=>{(q.flush==="sync"?u:c)&&W({storeId:t,type:qr.direct,events:f},Le)},Tt({},l,q)));return ce},$dispose:b},D=ss(R);s._s.set(t,D);const V=(s._a&&s._a.runWithContext||cd)(()=>s._e.run(()=>(o=ya()).run(()=>e({action:E}))));for(const W in V){const q=V[W];if(de(q)&&!dd(q)||xt(q))i||(m&&hd(q)&&(de(q)?q.value=m[W]:Bn(q,m[W])),s.state.value[t][W]=q);else if(typeof q=="function"){const ce=E(q,W);V[W]=ce,a.actions[W]=q}}return Tt(D,V),Tt(Q(D),V),Object.defineProperty(D,"$state",{get:()=>s.state.value[t],set:W=>{y(q=>{Tt(q,W)})}}),s._p.forEach(W=>{Tt(D,o.run(()=>W({store:D,app:s._a,pinia:s,options:a})))}),m&&i&&r.hydrate&&r.hydrate(D.$state,m),c=!0,u=!0,D}/*! #__NO_SIDE_EFFECTS__ */function y_(t,e,r){let s,n;const i=typeof e=="function";typeof t=="string"?(s=t,n=i?r:e):(n=t,s=t.id);function o(a,l){const c=Yu();return a=a||(c?Ke(yl,null):null),a&&Ys(a),a=vl,a._s.has(s)||(i?bl(s,e,n,a):fd(s,n,a)),a._s.get(s)}return o.$id=s,o}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const hr=typeof document<"u";function El(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function pd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&El(t.default)}const ee=Object.assign;function gn(t,e){const r={};for(const s in e){const n=e[s];r[s]=Qe(n)?n.map(t):t(n)}return r}const Hr=()=>{},Qe=Array.isArray;function vo(t,e){const r={};for(const s in t)r[s]=s in e?e[s]:t[s];return r}const Sl=/#/g,gd=/&/g,_d=/\//g,md=/=/g,vd=/\?/g,Tl=/\+/g,yd=/%5B/g,wd=/%5D/g,Ol=/%5E/g,bd=/%60/g,Al=/%7B/g,Ed=/%7C/g,Rl=/%7D/g,Sd=/%20/g;function Ti(t){return t==null?"":encodeURI(""+t).replace(Ed,"|").replace(yd,"[").replace(wd,"]")}function Td(t){return Ti(t).replace(Al,"{").replace(Rl,"}").replace(Ol,"^")}function Fn(t){return Ti(t).replace(Tl,"%2B").replace(Sd,"+").replace(Sl,"%23").replace(gd,"%26").replace(bd,"`").replace(Al,"{").replace(Rl,"}").replace(Ol,"^")}function Od(t){return Fn(t).replace(md,"%3D")}function Ad(t){return Ti(t).replace(Sl,"%23").replace(vd,"%3F")}function Rd(t){return Ad(t).replace(_d,"%2F")}function Zr(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Id=/\/$/,Cd=t=>t.replace(Id,"");function _n(t,e,r="/"){let s,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=e.slice(0,l),i=e.slice(l,a>0?a:e.length),n=t(i.slice(1))),a>=0&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=jd(s??e,r),{fullPath:s+i+o,path:s,query:n,hash:Zr(o)}}function Pd(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function yo(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function kd(t,e,r){const s=e.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&br(e.matched[s],r.matched[n])&&Il(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function br(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Il(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!xd(t[r],e[r]))return!1;return!0}function xd(t,e){return Qe(t)?wo(t,e):Qe(e)?wo(e,t):t===e}function wo(t,e){return Qe(e)?t.length===e.length&&t.every((r,s)=>r===e[s]):t.length===1&&t[0]===e}function jd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),s=t.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let i=r.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Vn=function(t){return t.pop="pop",t.push="push",t}({}),mn=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function Nd(t){if(!t)if(hr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Cd(t)}const Ld=/^[^#]+#/;function Dd(t,e){return t.replace(Ld,"#")+e}function Ud(t,e){const r=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-r.left-(e.left||0),top:s.top-r.top-(e.top||0)}}const Qs=()=>({left:window.scrollX,top:window.scrollY});function $d(t){let e;if("el"in t){const r=t.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=Ud(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function bo(t,e){return(history.state?history.state.position-e:-1)+t}const qn=new Map;function Md(t,e){qn.set(t,e)}function Bd(t){const e=qn.get(t);return qn.delete(t),e}function Fd(t){return typeof t=="string"||t&&typeof t=="object"}function Cl(t){return typeof t=="string"||typeof t=="symbol"}let he=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const Pl=Symbol("");he.MATCHER_NOT_FOUND+"",he.NAVIGATION_GUARD_REDIRECT+"",he.NAVIGATION_ABORTED+"",he.NAVIGATION_CANCELLED+"",he.NAVIGATION_DUPLICATED+"";function Er(t,e){return ee(new Error,{type:t,[Pl]:!0},e)}function ut(t,e){return t instanceof Error&&Pl in t&&(e==null||!!(t.type&e))}const Vd=["params","query","hash"];function qd(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of Vd)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function Hd(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const n=r[s].replace(Tl," "),i=n.indexOf("="),o=Zr(i<0?n:n.slice(0,i)),a=i<0?null:Zr(n.slice(i+1));if(o in e){let l=e[o];Qe(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function Eo(t){let e="";for(let r in t){const s=t[r];if(r=Od(r),s==null){s!==void 0&&(e+=(e.length?"&":"")+r);continue}(Qe(s)?s.map(n=>n&&Fn(n)):[s&&Fn(s)]).forEach(n=>{n!==void 0&&(e+=(e.length?"&":"")+r,n!=null&&(e+="="+n))})}return e}function Wd(t){const e={};for(const r in t){const s=t[r];s!==void 0&&(e[r]=Qe(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return e}const Kd=Symbol(""),So=Symbol(""),Zs=Symbol(""),Oi=Symbol(""),Hn=Symbol("");function kr(){let t=[];function e(s){return t.push(s),()=>{const n=t.indexOf(s);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function It(t,e,r,s,n,i=o=>o()){const o=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Er(he.NAVIGATION_ABORTED,{from:r,to:e})):d instanceof Error?l(d):Fd(d)?l(Er(he.NAVIGATION_GUARD_REDIRECT,{from:e,to:d})):(o&&s.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>t.call(s&&s.instances[n],e,r,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function vn(t,e,r,s,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(El(l)){const c=(l.__vccOpts||l)[e];c&&i.push(It(c,r,s,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=pd(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&It(d,r,s,o,a,n)()}))}}return i}function Gd(t,e){const r=[],s=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>br(c,a))?s.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>br(c,l))||n.push(l))}return[r,s,n]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Jd=()=>location.protocol+"//"+location.host;function kl(t,e){const{pathname:r,search:s,hash:n}=e,i=t.indexOf("#");if(i>-1){let o=n.includes(t.slice(i))?t.slice(i).length:1,a=n.slice(o);return a[0]!=="/"&&(a="/"+a),yo(a,"")}return yo(r,t)+s+n}function zd(t,e,r,s){let n=[],i=[],o=null;const a=({state:d})=>{const f=kl(t,location),m=r.value,v=e.value;let y=0;if(d){if(r.value=f,e.value=d,o&&o===m){o=null;return}y=v?d.position-v.position:0}else s(f);n.forEach(w=>{w(r.value,m,{delta:y,type:Vn.pop,direction:y?y>0?mn.forward:mn.back:mn.unknown})})};function l(){o=r.value}function c(d){n.push(d);const f=()=>{const m=n.indexOf(d);m>-1&&n.splice(m,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(ee({},d.state,{scroll:Qs()}),"")}}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function To(t,e,r,s=!1,n=!1){return{back:t,current:e,forward:r,replaced:s,position:window.history.length,scroll:n?Qs():null}}function Xd(t){const{history:e,location:r}=window,s={value:kl(t,r)},n={value:e.state};n.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),d=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+l:Jd()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),n.value=c}catch(f){console.error(f),r[u?"replace":"assign"](d)}}function o(l,c){i(l,ee({},e.state,To(n.value.back,l,n.value.forward,!0),c,{position:n.value.position}),!0),s.value=l}function a(l,c){const u=ee({},n.value,e.state,{forward:l,scroll:Qs()});i(u.current,u,!0),i(l,ee({},To(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:n,push:a,replace:o}}function Yd(t){t=Nd(t);const e=Xd(t),r=zd(t,e.state,e.location,e.replace);function s(i,o=!0){o||r.pauseListeners(),history.go(i)}const n=ee({location:"",base:t,go:s,createHref:Dd.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}let Jt=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var ge=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(ge||{});const Qd={type:Jt.Static,value:""},Zd=/[a-zA-Z0-9_]/;function ef(t){if(!t)return[[]];if(t==="/")return[[Qd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${r})/"${c}": ${f}`)}let r=ge.Static,s=r;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(r===ge.Static?i.push({type:Jt.Static,value:c}):r===ge.Param||r===ge.ParamRegExp||r===ge.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Jt.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==ge.ParamRegExp){s=r,r=ge.EscapeNext;continue}switch(r){case ge.Static:l==="/"?(c&&h(),o()):l===":"?(h(),r=ge.Param):d();break;case ge.EscapeNext:d(),r=s;break;case ge.Param:l==="("?r=ge.ParamRegExp:Zd.test(l)?d():(h(),r=ge.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case ge.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=ge.ParamRegExpEnd:u+=l;break;case ge.ParamRegExpEnd:h(),r=ge.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===ge.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),n}const Oo="[^/]+?",tf={sensitive:!1,strict:!1,start:!0,end:!0};var Ae=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(Ae||{});const rf=/[.+*?^${}()[\]/\\]/g;function sf(t,e){const r=ee({},tf,e),s=[];let n=r.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[Ae.Root];r.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=Ae.Segment+(r.sensitive?Ae.BonusCaseSensitive:0);if(d.type===Jt.Static)h||(n+="/"),n+=d.value.replace(rf,"\\$&"),f+=Ae.Static;else if(d.type===Jt.Param){const{value:m,repeatable:v,optional:y,regexp:w}=d;i.push({name:m,repeatable:v,optional:y});const b=w||Oo;if(b!==Oo){f+=Ae.BonusCustomRegExp;try{`${b}`}catch(R){throw new Error(`Invalid custom RegExp for param "${m}" (${b}): `+R.message)}}let E=v?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(E=y&&c.length<2?`(?:/${E})`:"/"+E),y&&(E+="?"),n+=E,f+=Ae.Dynamic,y&&(f+=Ae.BonusOptional),v&&(f+=Ae.BonusRepeatable),b===".*"&&(f+=Ae.BonusWildcard)}u.push(f)}s.push(u)}if(r.strict&&r.end){const c=s.length-1;s[c][s[c].length-1]+=Ae.BonusStrict}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",m=i[d-1];h[m.name]=f&&m.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===Jt.Static)u+=f.value;else if(f.type===Jt.Param){const{value:m,repeatable:v,optional:y}=f,w=m in c?c[m]:"";if(Qe(w)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const b=Qe(w)?w.join("/"):w;if(!b)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=b}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function nf(t,e){let r=0;for(;r<t.length&&r<e.length;){const s=e[r]-t[r];if(s)return s;r++}return t.length<e.length?t.length===1&&t[0]===Ae.Static+Ae.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Ae.Static+Ae.Segment?1:-1:0}function xl(t,e){let r=0;const s=t.score,n=e.score;for(;r<s.length&&r<n.length;){const i=nf(s[r],n[r]);if(i)return i;r++}if(Math.abs(n.length-s.length)===1){if(Ao(s))return 1;if(Ao(n))return-1}return n.length-s.length}function Ao(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const of={strict:!1,end:!0,sensitive:!1};function af(t,e,r){const s=sf(ef(t.path),r),n=ee(s,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function lf(t,e){const r=[],s=new Map;e=vo(of,e);function n(h){return s.get(h)}function i(h,d,f){const m=!f,v=Io(h);v.aliasOf=f&&f.record;const y=vo(e,h),w=[v];if("alias"in h){const R=typeof h.alias=="string"?[h.alias]:h.alias;for(const D of R)w.push(Io(ee({},v,{components:f?f.record.components:v.components,path:D,aliasOf:f?f.record:v})))}let b,E;for(const R of w){const{path:D}=R;if(d&&D[0]!=="/"){const B=d.record.path,V=B[B.length-1]==="/"?"":"/";R.path=d.record.path+(D&&V+D)}if(b=af(R,d,y),f?f.alias.push(b):(E=E||b,E!==b&&E.alias.push(b),m&&h.name&&!Co(b)&&o(h.name)),jl(b)&&l(b),v.children){const B=v.children;for(let V=0;V<B.length;V++)i(B[V],b,f&&f.children[V])}f=f||b}return E?()=>{o(E)}:Hr}function o(h){if(Cl(h)){const d=s.get(h);d&&(s.delete(h),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(h);d>-1&&(r.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){const d=hf(h,r);r.splice(d,0,h),h.record.name&&!Co(h)&&s.set(h.record.name,h)}function c(h,d){let f,m={},v,y;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw Er(he.MATCHER_NOT_FOUND,{location:h});y=f.record.name,m=ee(Ro(d.params,f.keys.filter(E=>!E.optional).concat(f.parent?f.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),h.params&&Ro(h.params,f.keys.map(E=>E.name))),v=f.stringify(m)}else if(h.path!=null)v=h.path,f=r.find(E=>E.re.test(v)),f&&(m=f.parse(v),y=f.record.name);else{if(f=d.name?s.get(d.name):r.find(E=>E.re.test(d.path)),!f)throw Er(he.MATCHER_NOT_FOUND,{location:h,currentLocation:d});y=f.record.name,m=ee({},d.params,h.params),v=f.stringify(m)}const w=[];let b=f;for(;b;)w.unshift(b.record),b=b.parent;return{name:y,path:v,params:m,matched:w,meta:uf(w)}}t.forEach(h=>i(h));function u(){r.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function Ro(t,e){const r={};for(const s of e)s in t&&(r[s]=t[s]);return r}function Io(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:cf(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function cf(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const s in t.components)e[s]=typeof r=="object"?r[s]:r;return e}function Co(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function uf(t){return t.reduce((e,r)=>ee(e,r.meta),{})}function hf(t,e){let r=0,s=e.length;for(;r!==s;){const i=r+s>>1;xl(t,e[i])<0?s=i:r=i+1}const n=df(t);return n&&(s=e.lastIndexOf(n,s-1)),s}function df(t){let e=t;for(;e=e.parent;)if(jl(e)&&xl(t,e)===0)return e}function jl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Po(t){const e=Ke(Zs),r=Ke(Oi),s=me(()=>{const l=jt(t.to);return e.resolve(l)}),n=me(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=r.matched;if(!u||!h.length)return-1;const d=h.findIndex(br.bind(null,u));if(d>-1)return d;const f=ko(l[c-2]);return c>1&&ko(u)===f&&h[h.length-1].path!==f?h.findIndex(br.bind(null,l[c-2])):d}),i=me(()=>n.value>-1&&mf(r.params,s.value.params)),o=me(()=>n.value>-1&&n.value===r.matched.length-1&&Il(r.params,s.value.params));function a(l={}){if(_f(l)){const c=e[jt(t.replace)?"replace":"push"](jt(t.to)).catch(Hr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:me(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function ff(t){return t.length===1?t[0]:t}const pf=Ks({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Po,setup(t,{slots:e}){const r=ss(Po(t)),{options:s}=Ke(Zs),n=me(()=>({[xo(t.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[xo(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&ff(e.default(r));return t.custom?i:_l("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},i)}}}),gf=pf;function _f(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function mf(t,e){for(const r in e){const s=e[r],n=t[r];if(typeof s=="string"){if(s!==n)return!1}else if(!Qe(n)||n.length!==s.length||s.some((i,o)=>i!==n[o]))return!1}return!0}function ko(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const xo=(t,e,r)=>t??e??r,vf=Ks({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const s=Ke(Hn),n=me(()=>t.route||s.value),i=Ke(So,0),o=me(()=>{let c=jt(i);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=me(()=>n.value.matched[o.value]);bs(So,me(()=>o.value+1)),bs(Kd,a),bs(Hn,n);const l=Ct();return Fr(()=>[l.value,a.value,t.name],([c,u,h],[d,f,m])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!br(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return jo(r.default,{Component:d,route:c});const f=h.props[u],m=f?f===!0?c.params:typeof f=="function"?f(c):f:null,y=_l(d,ee({},m,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return jo(r.default,{Component:y,route:c})||y}}});function jo(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Nl=vf;function yf(t){const e=lf(t.routes,t),r=t.parseQuery||Hd,s=t.stringifyQuery||Eo,n=t.history,i=kr(),o=kr(),a=kr(),l=du(bt);let c=bt;hr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=gn.bind(null,O=>""+O),h=gn.bind(null,Rd),d=gn.bind(null,Zr);function f(O,N){let x,U;return Cl(O)?(x=e.getRecordMatcher(O),U=N):U=O,e.addRoute(U,x)}function m(O){const N=e.getRecordMatcher(O);N&&e.removeRoute(N)}function v(){return e.getRoutes().map(O=>O.record)}function y(O){return!!e.getRecordMatcher(O)}function w(O,N){if(N=ee({},N||l.value),typeof O=="string"){const _=_n(r,O,N.path),T=e.resolve({path:_.path},N),A=n.createHref(_.fullPath);return ee(_,T,{params:d(T.params),hash:Zr(_.hash),redirectedFrom:void 0,href:A})}let x;if(O.path!=null)x=ee({},O,{path:_n(r,O.path,N.path).path});else{const _=ee({},O.params);for(const T in _)_[T]==null&&delete _[T];x=ee({},O,{params:h(_)}),N.params=h(N.params)}const U=e.resolve(x,N),X=O.hash||"";U.params=u(d(U.params));const p=Pd(s,ee({},O,{hash:Td(X),path:U.path})),g=n.createHref(p);return ee({fullPath:p,hash:X,query:s===Eo?Wd(O.query):O.query||{}},U,{redirectedFrom:void 0,href:g})}function b(O){return typeof O=="string"?_n(r,O,l.value.path):ee({},O)}function E(O,N){if(c!==O)return Er(he.NAVIGATION_CANCELLED,{from:N,to:O})}function R(O){return V(O)}function D(O){return R(ee(b(O),{replace:!0}))}function B(O,N){const x=O.matched[O.matched.length-1];if(x&&x.redirect){const{redirect:U}=x;let X=typeof U=="function"?U(O,N):U;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=b(X):{path:X},X.params={}),ee({query:O.query,hash:O.hash,params:X.path!=null?{}:O.params},X)}}function V(O,N){const x=c=w(O),U=l.value,X=O.state,p=O.force,g=O.replace===!0,_=B(x,U);if(_)return V(ee(b(_),{state:typeof _=="object"?ee({},X,_.state):X,force:p,replace:g}),N||x);const T=x;T.redirectedFrom=N;let A;return!p&&kd(s,U,x)&&(A=Er(he.NAVIGATION_DUPLICATED,{to:T,from:U}),Ze(U,U,!0,!1)),(A?Promise.resolve(A):ce(T,U)).catch(S=>ut(S)?ut(S,he.NAVIGATION_GUARD_REDIRECT)?S:wt(S):Z(S,T,U)).then(S=>{if(S){if(ut(S,he.NAVIGATION_GUARD_REDIRECT))return V(ee({replace:g},b(S.to),{state:typeof S.to=="object"?ee({},X,S.to.state):X,force:p}),N||T)}else S=Le(T,U,!0,g,X);return Te(T,U,S),S})}function W(O,N){const x=E(O,N);return x?Promise.reject(x):Promise.resolve()}function q(O){const N=tr.values().next().value;return N&&typeof N.runWithContext=="function"?N.runWithContext(O):O()}function ce(O,N){let x;const[U,X,p]=Gd(O,N);x=vn(U.reverse(),"beforeRouteLeave",O,N);for(const _ of U)_.leaveGuards.forEach(T=>{x.push(It(T,O,N))});const g=W.bind(null,O,N);return x.push(g),He(x).then(()=>{x=[];for(const _ of i.list())x.push(It(_,O,N));return x.push(g),He(x)}).then(()=>{x=vn(X,"beforeRouteUpdate",O,N);for(const _ of X)_.updateGuards.forEach(T=>{x.push(It(T,O,N))});return x.push(g),He(x)}).then(()=>{x=[];for(const _ of p)if(_.beforeEnter)if(Qe(_.beforeEnter))for(const T of _.beforeEnter)x.push(It(T,O,N));else x.push(It(_.beforeEnter,O,N));return x.push(g),He(x)}).then(()=>(O.matched.forEach(_=>_.enterCallbacks={}),x=vn(p,"beforeRouteEnter",O,N,q),x.push(g),He(x))).then(()=>{x=[];for(const _ of o.list())x.push(It(_,O,N));return x.push(g),He(x)}).catch(_=>ut(_,he.NAVIGATION_CANCELLED)?_:Promise.reject(_))}function Te(O,N,x){a.list().forEach(U=>q(()=>U(O,N,x)))}function Le(O,N,x,U,X){const p=E(O,N);if(p)return p;const g=N===bt,_=hr?history.state:{};x&&(U||g?n.replace(O.fullPath,ee({scroll:g&&_&&_.scroll},X)):n.push(O.fullPath,X)),l.value=O,Ze(O,N,x,g),wt()}let Pe;function $t(){Pe||(Pe=n.listen((O,N,x)=>{if(!Mt.listening)return;const U=w(O),X=B(U,Mt.currentRoute.value);if(X){V(ee(X,{replace:!0,force:!0}),U).catch(Hr);return}c=U;const p=l.value;hr&&Md(bo(p.fullPath,x.delta),Qs()),ce(U,p).catch(g=>ut(g,he.NAVIGATION_ABORTED|he.NAVIGATION_CANCELLED)?g:ut(g,he.NAVIGATION_GUARD_REDIRECT)?(V(ee(b(g.to),{force:!0}),U).then(_=>{ut(_,he.NAVIGATION_ABORTED|he.NAVIGATION_DUPLICATED)&&!x.delta&&x.type===Vn.pop&&n.go(-1,!1)}).catch(Hr),Promise.reject()):(x.delta&&n.go(-x.delta,!1),Z(g,U,p))).then(g=>{g=g||Le(U,p,!1),g&&(x.delta&&!ut(g,he.NAVIGATION_CANCELLED)?n.go(-x.delta,!1):x.type===Vn.pop&&ut(g,he.NAVIGATION_ABORTED|he.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),Te(U,p,g)}).catch(Hr)}))}let yt=kr(),le=kr(),z;function Z(O,N,x){wt(O);const U=le.list();return U.length?U.forEach(X=>X(O,N,x)):console.error(O),Promise.reject(O)}function lt(){return z&&l.value!==bt?Promise.resolve():new Promise((O,N)=>{yt.add([O,N])})}function wt(O){return z||(z=!O,$t(),yt.list().forEach(([N,x])=>O?x(O):N()),yt.reset()),O}function Ze(O,N,x,U){const{scrollBehavior:X}=t;if(!hr||!X)return Promise.resolve();const p=!x&&Bd(bo(O.fullPath,0))||(U||!x)&&history.state&&history.state.scroll||null;return vi().then(()=>X(O,N,p)).then(g=>g&&$d(g)).catch(g=>Z(g,O,N))}const ke=O=>n.go(O);let er;const tr=new Set,Mt={currentRoute:l,listening:!0,addRoute:f,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:v,resolve:w,options:t,push:R,replace:D,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:le.add,isReady:lt,install(O){O.component("RouterLink",gf),O.component("RouterView",Nl),O.config.globalProperties.$router=Mt,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>jt(l)}),hr&&!er&&l.value===bt&&(er=!0,R(n.location).catch(U=>{}));const N={};for(const U in bt)Object.defineProperty(N,U,{get:()=>l.value[U],enumerable:!0});O.provide(Zs,Mt),O.provide(Oi,La(N)),O.provide(Hn,l);const x=O.unmount;tr.add(O),O.unmount=function(){tr.delete(O),tr.size<1&&(c=bt,Pe&&Pe(),Pe=null,l.value=bt,er=!1,z=!1),x()}}};function He(O){return O.reduce((N,x)=>N.then(()=>q(x)),Promise.resolve())}return Mt}function w_(){return Ke(Zs)}function b_(t){return Ke(Oi)}var Wn=function(t,e){return Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},Wn(t,e)};function Ll(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ns=function(){return Ns=Object.assign||function(e){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ns.apply(this,arguments)};function Or(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r}function Dl(t,e,r,s){var n=arguments.length,i=n<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,r,i):o(e,r))||i);return n>3&&i&&Object.defineProperty(e,r,i),i}function Ul(t,e){return function(r,s){e(r,s,t)}}function $l(t,e,r,s,n,i){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?s.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h,d=!1,f=r.length-1;f>=0;f--){var m={};for(var v in s)m[v]=v==="access"?{}:s[v];for(var v in s.access)m.access[v]=s.access[v];m.addInitializer=function(w){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(w||null))};var y=(0,r[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],m);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=o(y.get))&&(u.get=h),(h=o(y.set))&&(u.set=h),(h=o(y.init))&&n.unshift(h)}else(h=o(y))&&(a==="field"?n.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),d=!0}function Ml(t,e,r){for(var s=arguments.length>2,n=0;n<e.length;n++)r=s?e[n].call(t,r):e[n].call(t);return s?r:void 0}function Bl(t){return typeof t=="symbol"?t:"".concat(t)}function Fl(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Vl(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function L(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}function ql(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,n,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(s=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],n=0}finally{s=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var en=Object.create?function(t,e,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]};function Hl(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&en(e,t,r)}function Ls(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ai(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function Wl(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ai(arguments[e]));return t}function Kl(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),n=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,n++)s[n]=i[o];return s}function Gl(t,e,r){if(r||arguments.length===2)for(var s=0,n=e.length,i;s<n;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function Sr(t){return this instanceof Sr?(this.v=t,this):new Sr(t)}function Jl(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),n[Symbol.asyncIterator]=function(){return this},n;function o(f){return function(m){return Promise.resolve(m).then(f,h)}}function a(f,m){s[f]&&(n[f]=function(v){return new Promise(function(y,w){i.push([f,v,y,w])>1||l(f,v)})},m&&(n[f]=m(n[f])))}function l(f,m){try{c(s[f](m))}catch(v){d(i[0][3],v)}}function c(f){f.value instanceof Sr?Promise.resolve(f.value.v).then(u,h):d(i[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,m){f(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function zl(t){var e,r;return e={},s("next"),s("throw",function(n){throw n}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(n,i){e[n]=t[n]?function(o){return(r=!r)?{value:Sr(t[n](o)),done:!1}:i?i(o):o}:i}}function Xl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ls=="function"?Ls(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),n(a,l,o.done,o.value)})}}function n(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function Yl(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var wf=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Kn=function(t){return Kn=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Kn(t)};function Ql(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Kn(t),s=0;s<r.length;s++)r[s]!=="default"&&en(e,t,r[s]);return wf(e,t),e}function Zl(t){return t&&t.__esModule?t:{default:t}}function ec(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function tc(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r}function rc(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function sc(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(n=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");n&&(s=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var bf=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function nc(t){function e(i){t.error=t.hasError?new bf(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,s=0;function n(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(i).then(n,function(o){return e(o),n()})}else s|=1}catch(o){e(o)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function ic(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,n,i,o){return s?e?".jsx":".js":n&&(!i||!o)?r:n+i+"."+o.toLowerCase()+"js"}):t}const Ef={__extends:Ll,__assign:Ns,__rest:Or,__decorate:Dl,__param:Ul,__esDecorate:$l,__runInitializers:Ml,__propKey:Bl,__setFunctionName:Fl,__metadata:Vl,__awaiter:L,__generator:ql,__createBinding:en,__exportStar:Hl,__values:Ls,__read:Ai,__spread:Wl,__spreadArrays:Kl,__spreadArray:Gl,__await:Sr,__asyncGenerator:Jl,__asyncDelegator:zl,__asyncValues:Xl,__makeTemplateObject:Yl,__importStar:Ql,__importDefault:Zl,__classPrivateFieldGet:ec,__classPrivateFieldSet:tc,__classPrivateFieldIn:rc,__addDisposableResource:sc,__disposeResources:nc,__rewriteRelativeImportExtension:ic},Sf=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:sc,get __assign(){return Ns},__asyncDelegator:zl,__asyncGenerator:Jl,__asyncValues:Xl,__await:Sr,__awaiter:L,__classPrivateFieldGet:ec,__classPrivateFieldIn:rc,__classPrivateFieldSet:tc,__createBinding:en,__decorate:Dl,__disposeResources:nc,__esDecorate:$l,__exportStar:Hl,__extends:Ll,__generator:ql,__importDefault:Zl,__importStar:Ql,__makeTemplateObject:Yl,__metadata:Vl,__param:Ul,__propKey:Bl,__read:Ai,__rest:Or,__rewriteRelativeImportExtension:ic,__runInitializers:Ml,__setFunctionName:Fl,__spread:Wl,__spreadArray:Gl,__spreadArrays:Kl,__values:Ls,default:Ef},Symbol.toStringTag,{value:"Module"})),Tf="modulepreload",Of=function(t){return"/"+t},No={},Re=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(l=>{if(l=Of(l),l in No)return;No[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Tf,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Af=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Re(async()=>{const{default:s}=await Promise.resolve().then(()=>Zt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class Ri extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Lo extends Ri{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Do extends Ri{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Uo extends Ri{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gn||(Gn={}));class Rf{constructor(e,{headers:r={},customFetch:s,region:n=Gn.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=Af(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return L(this,arguments,void 0,function*(r,s={}){var n;try{const{headers:i,method:o,body:a,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:d,signal:l}).catch(w=>{throw w.name==="AbortError"?w:new Lo(w)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Do(f);if(!f.ok)throw new Uo(f);let v=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield f.json():v==="application/octet-stream"||v==="application/pdf"?y=yield f.blob():v==="text/event-stream"?y=f:v==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Lo(i)}:{data:null,error:i,response:i instanceof Uo||i instanceof Do?i.context:void 0}}})}}function oc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r}var Ne={};const Ar=oc(Sf);var hs={},ds={},fs={},ps={},gs={},If=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Tr=If();const Cf=Tr.fetch,ac=Tr.fetch.bind(Tr),lc=Tr.Headers,Pf=Tr.Request,kf=Tr.Response,Zt=Object.freeze(Object.defineProperty({__proto__:null,Headers:lc,Request:Pf,Response:kf,default:ac,fetch:Cf},Symbol.toStringTag,{value:"Module"})),xf=oc(Zt);var _s={},$o;function cc(){if($o)return _s;$o=1,Object.defineProperty(_s,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return _s.default=t,_s}var Mo;function uc(){if(Mo)return gs;Mo=1,Object.defineProperty(gs,"__esModule",{value:!0});const t=Ar,e=t.__importDefault(xf),r=t.__importDefault(cc());class s{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d,f;let m=null,v=null,y=null,w=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const B=await c.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=B:v=JSON.parse(B))}const R=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),D=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");R&&D&&D.length>1&&(y=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(m={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,w=406,b="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const R=await c.text();try{m=JSON.parse(R),Array.isArray(m)&&c.status===404&&(v=[],m=null,w=200,b="OK")}catch{c.status===404&&R===""?(w=204,b="No Content"):m={message:R}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,w=200,b="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:v,count:y,status:w,statusText:b}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return gs.default=s,gs}var Bo;function hc(){if(Bo)return ps;Bo=1,Object.defineProperty(ps,"__esModule",{value:!0});const e=Ar.__importDefault(uc());class r extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return ps.default=r,ps}var Fo;function Ii(){if(Fo)return fs;Fo=1,Object.defineProperty(fs,"__esModule",{value:!0});const e=Ar.__importDefault(hc());class r extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return fs.default=r,fs}var Vo;function dc(){if(Vo)return ds;Vo=1,Object.defineProperty(ds,"__esModule",{value:!0});const e=Ar.__importDefault(Ii());class r{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(n,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const u=(n??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ds.default=r,ds}var qo;function jf(){if(qo)return hs;qo=1,Object.defineProperty(hs,"__esModule",{value:!0});const t=Ar,e=t.__importDefault(dc()),r=t.__importDefault(Ii());class s{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${i}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{d.searchParams.append(v,y)})):(h="POST",f=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:h,url:d,headers:m,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return hs.default=s,hs}Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const Rr=Ar,fc=Rr.__importDefault(jf());Ne.PostgrestClient=fc.default;const pc=Rr.__importDefault(dc());Ne.PostgrestQueryBuilder=pc.default;const gc=Rr.__importDefault(Ii());Ne.PostgrestFilterBuilder=gc.default;const _c=Rr.__importDefault(hc());Ne.PostgrestTransformBuilder=_c.default;const mc=Rr.__importDefault(uc());Ne.PostgrestBuilder=mc.default;const vc=Rr.__importDefault(cc());Ne.PostgrestError=vc.default;var Nf=Ne.default={PostgrestClient:fc.default,PostgrestQueryBuilder:pc.default,PostgrestFilterBuilder:gc.default,PostgrestTransformBuilder:_c.default,PostgrestBuilder:mc.default,PostgrestError:vc.default};const{PostgrestClient:Lf,PostgrestQueryBuilder:E_,PostgrestFilterBuilder:S_,PostgrestTransformBuilder:T_,PostgrestBuilder:O_,PostgrestError:A_}=Nf;class Df{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,n=parseInt(s.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Uf="2.76.1",$f=`realtime-js/${Uf}`,Mf="1.0.0",Jn=1e4,Bf=1e3,Ff=100;var Wr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wr||(Wr={}));var _e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_e||(_e={}));var Xe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xe||(Xe={}));var zn;(function(t){t.websocket="websocket"})(zn||(zn={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class Vf{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class yc{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ie||(ie={}));const Ho=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=qf(o,t,e,n),i),{}):{}},qf=(t,e,r,s)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=r[t];return i&&!s.includes(i)?wc(i,o):Xn(o)},wc=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Gf(e,r)}switch(t){case ie.bool:return Hf(e);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Wf(e);case ie.json:case ie.jsonb:return Kf(e);case ie.timestamp:return Jf(e);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return Xn(e);default:return Xn(e)}},Xn=t=>t,Hf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Wf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Kf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Gf=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>wc(e,a))}return t},Jf=t=>typeof t=="string"?t.replace(" ","T"):t,bc=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class yn{constructor(e,r,s={},n=Jn){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wo;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wo||(Wo={}));class Kr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Kr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Kr.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),m=u.filter(y=>f.indexOf(y.presence_ref)<0),v=h.filter(y=>d.indexOf(y.presence_ref)<0);m.length>0&&(a[c]=m),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ko;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ko||(Ko={}));var Gr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Gr||(Gr={}));var dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dt||(dt={}));class Ci{constructor(e,r={config:{}},s){var n,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yn(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new yc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Kr(this),this.broadcastEndpointURL=bc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Gr.PRESENCE]&&this.bindings[Gr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(dt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(dt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){e==null||e(dt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,w=[];for(let b=0;b<y;b++){const E=v[b],{filter:{event:R,schema:D,table:B,filter:V}}=E,W=f&&f[b];if(W&&W.event===R&&W.schema===D&&W.table===B&&W.filter===V)w.push(Object.assign(Object.assign({},E),{id:W.id}));else{this.unsubscribe(),this.state=_e.errored,e==null||e(dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(dt.SUBSCRIBED);return}}).receive("error",f=>{this.state=_e.errored,e==null||e(dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===_e.joined&&e===Gr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xe.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new yn(this,Xe.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new yn(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ff){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Xe;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,r,s);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var m,v,y;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(v=f.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var m,v,y,w,b,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const R=f.id,D=(m=f.filter)===null||m===void 0?void 0:m.event;return R&&((v=r.ids)===null||v===void 0?void 0:v.includes(R))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const R=(b=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return R==="*"||R===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:v,table:y,commit_timestamp:w,type:b,errors:E}=m;d=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:w,eventType:b,new:{},old:{},errors:E}),this._getPayloadRecords(m))}f.callback(d,s)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ci.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xe.close,{},e)}_onError(e){this._on(Xe.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ho(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ho(e.columns,e.old_record)),r}}const wn=()=>{},ms={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zf=[1e3,2e3,5e3,1e4],Xf=1e4,Yf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qf{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jn,this.transport=null,this.heartbeatIntervalMs=ms.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wn,this.ref=0,this.reconnectTimer=null,this.logger=wn,this.conn=null,this.sendBuffer=[],this.serializer=new Vf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>Re(async()=>{const{default:a}=await Promise.resolve().then(()=>Zt);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${zn.websocket}`,this.httpEndpoint=bc(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Df.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Mf}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Wr.connecting:return Kt.Connecting;case Wr.open:return Kt.Open;case Wr.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new Ci(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Bf,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ms.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xe.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([Yf],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const n={access_token:r,version:$f};r&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(Xe.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new yc(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ms.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,i,o,a,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Jn,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:ms.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:wn,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>zf[h-1]||Xf,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,d)=>d(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Pi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Zf extends Pi{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yn extends Pi{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const ki=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Re(async()=>{const{default:s}=await Promise.resolve().then(()=>Zt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},ep=()=>L(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Re(()=>Promise.resolve().then(()=>Zt),void 0)).Response:Response}),Qn=t=>{if(Array.isArray(t))return t.map(r=>Qn(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Qn(s)}),e},tp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},bn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rp=(t,e,r)=>L(void 0,void 0,void 0,function*(){const s=yield ep();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new Zf(bn(n),i,o))}).catch(n=>{e(new Yn(bn(n),n))}):e(new Yn(bn(t),t))}),sp=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?n:(tp(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),r))};function os(t,e,r,s,n,i){return L(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,sp(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>rp(l,a,s))})})}function es(t,e,r,s){return L(this,void 0,void 0,function*(){return os(t,"GET",e,r,s)})}function ze(t,e,r,s,n){return L(this,void 0,void 0,function*(){return os(t,"POST",e,s,n,r)})}function Zn(t,e,r,s,n){return L(this,void 0,void 0,function*(){return os(t,"PUT",e,s,n,r)})}function np(t,e,r,s){return L(this,void 0,void 0,function*(){return os(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function xi(t,e,r,s,n){return L(this,void 0,void 0,function*(){return os(t,"DELETE",e,s,n,r)})}class ip{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return L(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}}var Ec;class op{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Ec]="BlobDownloadBuilder",this.promise=null}asStream(){return new ip(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return L(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}}Ec=Symbol.toStringTag;const ap={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Go={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lp{constructor(e,r={},s,n){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=ki(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,n){return L(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Go),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(e=="PUT"?Zn:ze)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}})}upload(e,r,s){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return L(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Go.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield Zn(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return L(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield ze(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Pi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}update(e,r,s){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return L(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}copy(e,r,s){return L(this,void 0,void 0,function*(){try{return{data:{path:(yield ze(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return L(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ze(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return L(this,void 0,void 0,function*(){try{const n=yield ze(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}download(e,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>es(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new op(l,this.shouldThrowOnError)}info(e){return L(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield es(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qn(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}exists(e){return L(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield np(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s)&&s instanceof Yn){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return L(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}list(e,r,s){return L(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},ap),r),{prefix:e||""});return{data:yield ze(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}listV2(e,r){return L(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield ze(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Sc="2.76.1",Tc={"X-Client-Info":`storage-js/${Sc}`};class cp{constructor(e,r={},s,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tc),r),this.fetch=ki(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return L(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}createBucket(e){return L(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return L(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}emptyBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}}class up{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tc),r),this.fetch=ki(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}listBuckets(e){return L(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),n=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,i=yield es(this.fetch,n,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}}const ji={"X-Client-Info":`storage-js/${Sc}`,"Content-Type":"application/json"};class Oc extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Me(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class En extends Oc{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hp extends Oc{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Jo;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Jo||(Jo={}));const Ni=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Re(async()=>{const{default:s}=await Promise.resolve().then(()=>Zt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},dp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fp=(t,e,r)=>L(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new En(zo(o),n,a))}).catch(()=>{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new En(a,n,o))});else{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new En(a,n,o))}}else e(new hp(zo(t),t))}),pp=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(dp(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,Object.assign(Object.assign({},n),r)):n};function gp(t,e,r,s,n,i){return L(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,pp(e,s,n,i)).then(l=>{if(!l.ok)throw l;if(s!=null&&s.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>fp(l,a,s))})})}function Be(t,e,r,s,n){return L(this,void 0,void 0,function*(){return gp(t,"POST",e,s,n,r)})}class _p{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ji),r),this.fetch=Ni(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return L(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getIndex(e,r){return L(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}})}listIndexes(e){return L(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return L(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}})}}class mp{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ji),r),this.fetch=Ni(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return L(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Be(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getVectors(e){return L(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listVectors(e){return L(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Be(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}queryVectors(e){return L(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteVectors(e){return L(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Be(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}}class vp{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ji),r),this.fetch=Ni(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return L(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listBuckets(){return L(this,arguments,void 0,function*(e={}){try{return{data:yield Be(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}}class yp extends vp{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new wp(this.url,this.headers,e,this.fetch)}}class wp extends _p{constructor(e,r,s,n){super(e,r,n),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return L(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return L(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return L(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return L(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new bp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class bp extends mp{constructor(e,r,s,n,i){super(e,r,i),this.vectorBucketName=s,this.indexName=n}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return L(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return L(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return L(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return L(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return L(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ep extends cp{constructor(e,r={},s,n){super(e,r,s,n)}from(e){return new lp(this.url,this.headers,e,this.fetch)}get vectors(){return new yp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new up(this.url+"/iceberg",this.headers,this.fetch)}}const Sp="2.76.1";let Nr="";typeof Deno<"u"?Nr="deno":typeof document<"u"?Nr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nr="react-native":Nr="node";const Tp={"X-Client-Info":`supabase-js-${Nr}/${Sp}`},Op={headers:Tp},Ap={schema:"public"},Rp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ip={},Cp=t=>{let e;return t?e=t:typeof fetch>"u"?e=ac:e=fetch,(...r)=>e(...r)},Pp=()=>typeof Headers>"u"?lc:Headers,kp=(t,e,r)=>{const s=Cp(r),n=Pp();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))}};function xp(t){return t.endsWith("/")?t:t+"/"}function jp(t,e){var r,s;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,d={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function Np(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ac="2.76.1",dr=30*1e3,ei=3,Sn=ei*dr,Lp="http://localhost:9999",Dp="supabase.auth.token",Up={"X-Client-Info":`gotrue-js/${Ac}`},ti="X-Supabase-Api-Version",Rc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$p=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mp=10*60*1e3;class ts extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Bp extends ts{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Fp(t){return M(t)&&t.name==="AuthApiError"}class Gt extends ts{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ut extends ts{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class Ot extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vp(t){return M(t)&&t.name==="AuthSessionMissingError"}class nr extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vs extends Ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ys extends Ut{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qp(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class Xo extends Ut{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ri extends Ut{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Tn(t){return M(t)&&t.name==="AuthRetryableFetchError"}class Yo extends Ut{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class si extends Ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ds="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qo=` 	
\r=`.split(""),Hp=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qo.length;e+=1)t[Qo[e].charCodeAt(0)]=-2;for(let e=0;e<Ds.length;e+=1)t[Ds[e].charCodeAt(0)]=e;return t})();function Zo(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Ds[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Ds[s]),e.queuedBits-=6}}function Ic(t,e,r){const s=Hp[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ea(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Gp(o,s,r)};for(let o=0;o<t.length;o+=1)Ic(t.charCodeAt(o),n,i);return e.join("")}function Wp(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Kp(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Wp(s,e)}}function Gp(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function yr(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Ic(t.charCodeAt(n),r,s);return new Uint8Array(e)}function Jp(t){const e=[];return Kp(t,r=>e.push(r)),new Uint8Array(e)}function zt(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>Zo(n,r,s)),Zo(null,r,s),e.join("")}function zp(t){return Math.round(Date.now()/1e3)+t}function Xp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $e=()=>typeof window<"u"&&typeof document<"u",Vt={tested:!1,writable:!1},Cc=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vt.tested)return Vt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vt.tested=!0,Vt.writable=!0}catch{Vt.tested=!0,Vt.writable=!1}return Vt.writable};function Yp(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const Pc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Re(async()=>{const{default:s}=await Promise.resolve().then(()=>Zt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},Qp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",fr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},qt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Et=async(t,e)=>{await t.removeItem(e)};class tn{constructor(){this.promise=new tn.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}tn.promiseConstructor=Promise;function On(t){const e=t.split(".");if(e.length!==3)throw new si("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!$p.test(e[s]))throw new si("JWT not in base64url format");return{header:JSON.parse(ea(e[0])),payload:JSON.parse(ea(e[1])),signature:yr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Zp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function eg(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function tg(t){return("0"+t.toString(16)).substr(-2)}function rg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,tg).join("")}async function sg(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function ng(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await sg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ir(t,e,r=!1){const s=rg();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await fr(t,`${e}-code-verifier`,n);const i=await ng(s);return[i,s===i?"plain":"s256"]}const ig=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function og(t){const e=t.headers.get(ti);if(!e||!e.match(ig))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ag(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function or(t){if(!cg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function An(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ta(t){return JSON.parse(JSON.stringify(t))}const Wt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ug=[502,503,504];async function ra(t){var e;if(!Qp(t))throw new ri(Wt(t),0);if(ug.includes(t.status))throw new ri(Wt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Gt(Wt(i),i)}let s;const n=og(t);if(n&&n.getTime()>=Rc["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Yo(Wt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ot}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Yo(Wt(r),t.status,r.weak_password.reasons);throw new Bp(Wt(r),t.status||500,s)}const hg=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function G(t,e,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[ti]||(i[ti]=Rc["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await dg(t,e,r+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function dg(t,e,r,s,n,i){const o=hg(e,s,n,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new ri(Wt(l),0)}if(a.ok||await ra(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await ra(l)}}function Je(t){var e;let r=null;gg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=zp(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function sa(t){const e=Je(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fg(t){return{data:t,error:null}}function pg(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=Or(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function na(t){return t}function gg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rn=["global","local","others"];class _g{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Pc(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Rn[0]){if(Rn.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rn.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pt})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Or(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:pg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:na});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=v}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(M(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){or(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){or(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Pt})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){or(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pt})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){or(e.userId);try{const{data:r,error:s}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(e){or(e.userId),or(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:na});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=v}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(M(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}}function ia(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ar={debug:!!(globalThis&&Cc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mg extends kc{}async function vg(t,e,r){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ar.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function yg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xc(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function wg(t){return parseInt(t,16)}function bg(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Eg(t){var e;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=xc(t.address),m=u?`${u}://${s}`:s,v=t.statement?`${t.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${f}

${v}`;let w=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(w+=`
Expiration Time: ${n.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const E of c){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);b+=`
- ${E}`}w+=b}return`${y}
${w}`}class fe extends Error{constructor({message:e,code:r,cause:s,name:n}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Us extends fe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Sg({error:t,options:e}){var r,s,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(jc(o)){if(i.rp.id!==o)return new fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Tg({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(jc(s)){if(r.rpId!==s)return new fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Og{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ag=new Og;function Rg(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,n=Or(t,["challenge","user","excludeCredentials"]),i=yr(e).buffer,o=Object.assign(Object.assign({},r),{id:yr(r.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:yr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Ig(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=Or(t,["challenge","allowCredentials"]),n=yr(e).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:yr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Cg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:zt(new Uint8Array(t.response.attestationObject)),clientDataJSON:zt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Pg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:zt(new Uint8Array(n.authenticatorData)),clientDataJSON:zt(new Uint8Array(n.clientDataJSON)),signature:zt(new Uint8Array(n.signature)),userHandle:n.userHandle?zt(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function oa(){var t,e;return!!($e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function kg(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Us("Browser returned unexpected credential type",e)}:{data:null,error:new Us("Empty credential response",e)}}catch(e){return{data:null,error:Sg({error:e,options:t})}}}async function xg(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Us("Browser returned unexpected credential type",e)}:{data:null,error:new Us("Empty credential response",e)}}catch(e){return{data:null,error:Tg({error:e,options:t})}}}const jg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Ng={userVerification:"preferred",hints:["security-key"]};function $s(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const a=s[i];e(a)?s[i]=$s(a,o):s[i]=$s(o)}else s[i]=o}return s}function Lg(t,e){return $s(jg,t,e||{})}function Dg(t,e){return $s(Ng,t,e||{})}class Ug{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=n??Ag.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Lg(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await kg({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=Dg(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await xg(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return M(o)?{data:null,error:o}:{data:null,error:new Gt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!r)return{data:null,error:new ts("rpId is required for WebAuthn authentication")};try{if(!oa())return{data:null,error:new Gt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return M(o)?{data:null,error:o}:{data:null,error:new Gt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!r)return{data:null,error:new ts("rpId is required for WebAuthn registration")};try{if(!oa())return{data:null,error:new Gt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return M(o)?{data:null,error:o}:{data:null,error:new Gt("Unexpected error in register",o)}}}}yg();const $g={url:Lp,storageKey:Dp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Up,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function aa(t,e,r){return await r()}const lr={};class rs{get jwks(){var e,r;return(r=(e=lr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){lr[this.storageKey]=Object.assign(Object.assign({},lr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=lr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lr[this.storageKey]=Object.assign(Object.assign({},lr[this.storageKey]),{cachedAt:e})}constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rs.nextInstanceID,rs.nextInstanceID+=1,this.instanceID>0&&$e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},$g),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new _g({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Pc(n.fetch),this.lock=n.lock||aa,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:$e()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vg:this.lock=aa,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ug(this)},this.persistSession?(n.storage?this.storage=n.storage:Cc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ia(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=ia(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ac}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Yp(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),$e()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qp(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new Gt("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Je}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await ir(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:m},xform:Je})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},channel:(n=d==null?void 0:d.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Je})}else throw new vs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sa})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sa})}else throw new vs("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new nr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,n,i,o,a,l,c,u,h,d;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:v,wallet:y,statement:w,options:b}=e;let E;if($e())if(typeof y=="object")E=y;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")E=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const R=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),D=await E.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=xc(D[0]);let V=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!V){const q=await E.request({method:"eth_chainId"});V=wg(q)}const W={domain:R.host,address:B,statement:w,uri:R.href,version:"1",chainId:V,nonce:(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Eg(W),m=await E.request({method:"personal_sign",params:[bg(f),B]})}try{const{data:v,error:y}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Je});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new nr}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(M(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(e){var r,s,n,i,o,a,l,c,u,h,d,f;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:y,wallet:w,statement:b,options:E}=e;let R;if($e())if(typeof w=="object")R=w;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))R=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=w}const D=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const B=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),b?{statement:b}:null));let V;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")V=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)V=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)m=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),v=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${D.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(n=(s=E==null?void 0:E.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(u=E==null?void 0:E.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const B=await R.signMessage(new TextEncoder().encode(m),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=B}}try{const{data:y,error:w}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:zt(v)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Je});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new nr}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(M(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const r=await qt(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Je});if(await Et(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new nr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Je}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new nr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ir(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new vs("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Je});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ir(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fg})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Ot;const{error:n}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new vs("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await qt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Sn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await qt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=An()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pt}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Pt})})}catch(r){if(M(r))return Vp(r)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Ot;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ir(this.storage,this.storageKey));const{data:c,error:u}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Pt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ot;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=On(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Ot;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!$e())throw new ys("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ys(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ys("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xo("No code detected.");const{data:b,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new ys("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=d-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,u);const{data:v,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(s){if(M(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await qt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Fp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Xp(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await ir(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return $e()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(M(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Je}),{data:d,error:f}=h;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new nr}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:f})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await eg(async n=>(n>0&&await Zp(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Je})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Tn(i)&&Date.now()+o-s<dr})}catch(s){if(this._debug(r,"error",s),M(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),$e()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await qt(this.storage,this.storageKey);if(n&&this.userStorage){let o=await qt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await fr(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:An()}else if(n&&!n.user&&!n.user){const o=await qt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Et(this.storage,this.storageKey+"-user"),await fr(this.storage,this.storageKey,n)):n.user=An()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sn;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Sn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Tn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new tn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ot;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),M(i)){const o={data:null,error:i};return Tn(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await fr(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=ta(n);await fr(this.storage,this.storageKey,i)}else{const n=ta(r);await fr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${dr}ms, refresh threshold is ${ei} ticks`),n<=ei&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await ir(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Cg(e.webauthn.credential_response):Pg(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const o=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Rg(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ig(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=On(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(a=>a.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+Mp>n)return s;const{data:i,error:o}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};s=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=On(s);r!=null&&r.allowExpired||ag(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const u=lg(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Jp(`${a}.${l}`)))throw new si("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}}rs.nextInstanceID=0;const Mg=rs;class Bg extends Mg{constructor(e){super(e)}}class Fg{constructor(e,r,s){var n,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Np(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Ap,realtime:Ip,auth:Object.assign(Object.assign({},Rp),{storageKey:l}),global:Op},u=jp(s??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=kp(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Lf(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Ep(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Rf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bg({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Qf(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vg=(t,e,r)=>new Fg(t,e,r);function qg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}qg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hg="https://bkintupjzbcjiqvzricz.supabase.co",Wg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJraW50dXBqemJjamlxdnpyaWN6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2MDYzNDEsImV4cCI6MjA3NzE4MjM0MX0.ZA6l95LSZ_x2DFfJGCcXMXLlRg9nOV7kNqEJUC7OG8o",qe=Vg(Hg,Wg,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"forum-connector"}}});qe.realtime.setAuth=t=>{qe.realtime.accessToken=t};const R_=t=>(console.error("Supabase错误:",t),t.code==="PGRST116"?{success:!1,message:"认证失败，请重新登录",code:t.code}:t.code==="PGRST123"?{success:!1,message:"权限不足",code:t.code}:t.code==="PGRST301"?{success:!1,message:"网络连接异常，请检查网络",code:t.code}:{success:!1,message:t.message||"操作失败",code:t.code}),I_=async(t,e=2,r=1e3)=>{let s;for(let n=0;n<=e;n++)try{return await t()}catch(i){if(s=i,i.code==="PGRST116")throw i;n<e&&await new Promise(o=>setTimeout(o,r*Math.pow(2,n)))}throw s},Kg={class:"status-content"},Gg={class:"status-icon"},Jg={class:"status-text"},zg={key:0,class:"details-panel"},Xg={class:"detail-item"},Yg={class:"detail-item"},Qg={class:"detail-item"},Zg={key:0,class:"detail-item error"},e_=Ks({__name:"ConnectionStatus",setup(t){const e=Ct(!0),r=Ct(!1),s=Ct(!1),n=Ct(null),i=Ct(!1),o="https://bkintupjzbcjiqvzricz.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJraW50dXBqemJjamlxdnpyaWN6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2MDYzNDEsImV4cCI6MjA3NzE4MjM0MX0.ZA6l95LSZ_x2DFfJGCcXMXLlRg9nOV7kNqEJUC7OG8o",l=me(()=>!o.includes("default.supabase.co")),c=me(()=>!a.includes("default")),u=me(()=>i.value?"checking":s.value?"connected":"disconnected"),h=me(()=>i.value?"⏳":s.value?"✅":"❌"),d=me(()=>i.value?"检查连接中...":s.value?"Supabase连接正常":"Supabase连接失败"),f=me(()=>qe.auth.getSession()?"已登录":"未登录"),m=async()=>{i.value=!0,n.value=null;try{const{error:y}=await qe.auth.getSession();if(y)throw y;const{error:w}=await qe.from("profiles").select("count").limit(1);if(w)throw w;s.value=!0,console.log("✅ Supabase连接检查成功")}catch(y){s.value=!1,n.value=y.message||"连接失败",console.error("❌ Supabase连接检查失败:",y)}finally{i.value=!1,s.value&&setTimeout(()=>{e.value=!1},3e3)}},v=()=>{m()};return qe.auth.onAuthStateChange((y,w)=>{console.log("🔐 认证状态变化:",y,w?"已登录":"未登录"),(y==="SIGNED_IN"||y==="SIGNED_OUT")&&m()}),Ka(()=>{console.log("🔗 连接状态组件已加载"),m()}),(y,w)=>e.value?(pr(),jr("div",{key:0,class:mr(["connection-status",u.value])},[ve("div",Kg,[ve("span",Gg,St(h.value),1),ve("span",Jg,St(d.value),1),s.value?us("",!0):(pr(),jr("button",{key:0,onClick:v,class:"retry-btn"}," 重试连接 ")),ve("button",{onClick:w[0]||(w[0]=b=>r.value=!r.value),class:"details-btn"},St(r.value?"隐藏详情":"显示详情"),1)]),r.value?(pr(),jr("div",zg,[ve("div",Xg,[w[1]||(w[1]=ve("strong",null,"Supabase URL:",-1)),ve("span",{class:mr({valid:l.value,invalid:!l.value})},St(jt(o)||"未配置"),3)]),ve("div",Yg,[w[2]||(w[2]=ve("strong",null,"Anon Key:",-1)),ve("span",{class:mr({valid:c.value,invalid:!c.value})},St(c.value?"已配置":"未配置"),3)]),ve("div",Qg,[w[3]||(w[3]=ve("strong",null,"认证状态:",-1)),ve("span",null,St(f.value),1)]),n.value?(pr(),jr("div",Zg,[w[4]||(w[4]=ve("strong",null,"错误信息:",-1)),ve("span",null,St(n.value),1)])):us("",!0)])):us("",!0)],2)):us("",!0)}}),t_=(t,e)=>{const r=t.__vccOpts||t;for(const[s,n]of e)r[s]=n;return r},r_=t_(e_,[["__scopeId","data-v-79ba8007"]]),s_={id:"app"},n_=Ks({__name:"App",setup(t){return(e,r)=>(pr(),jr("div",s_,[Ce(r_),Ce(jt(Nl))]))}}),i_=[{path:"/",name:"Home",component:()=>Re(()=>import("./HomeView-C96zmu4T.js"),__vite__mapDeps([0,1,2,3,4,5])),meta:{title:"首页 - 连接者论坛"}},{path:"/connection-test",name:"ConnectionTest",component:()=>Re(()=>import("./ConnectionTestView-BL8UsdAT.js"),__vite__mapDeps([6,7])),meta:{title:"连接测试"}},{path:"/supabase-manager",name:"SupabaseManager",component:()=>Re(()=>import("./SupabaseManagerView-B8be-RyJ.js"),__vite__mapDeps([8,9])),meta:{title:"Supabase管理器"}},{path:"/post/:id",name:"PostDetail",component:()=>Re(()=>import("./PostDetailView-ByVKoYol.js"),__vite__mapDeps([10,1,2,11])),meta:{title:"帖子详情"}},{path:"/login",name:"Login",component:()=>Re(()=>import("./LoginView-WMDw1Hha.js"),__vite__mapDeps([12,1,13])),meta:{title:"登录",requiresGuest:!0}},{path:"/register",name:"Register",component:()=>Re(()=>import("./RegisterView-BqhehCaR.js"),__vite__mapDeps([14,1,15])),meta:{title:"注册",requiresGuest:!0}},{path:"/profile",name:"Profile",component:()=>Re(()=>import("./ProfileView-BTb85n4A.js"),__vite__mapDeps([16,1,2,3,4,17])),meta:{title:"个人中心",requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>Re(()=>import("./NotFoundView-D0lUfgtR.js"),__vite__mapDeps([18,19])),meta:{title:"页面未找到"}}],Nc=yf({history:Yd(),routes:i_});Nc.beforeEach(async(t,e,r)=>{const{useAuthStore:s}=await Re(async()=>{const{useAuthStore:i}=await import("./auth-1hv12URH.js");return{useAuthStore:i}},[]),n=s();t.meta.requiresAuth&&!n.isAuthenticated?r("/login"):t.meta.requiresGuest&&n.isAuthenticated?r("/"):r()});async function Lc(){const t=[],e=[],r="https://bkintupjzbcjiqvzricz.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJraW50dXBqemJjamlxdnpyaWN6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2MDYzNDEsImV4cCI6MjA3NzE4MjM0MX0.ZA6l95LSZ_x2DFfJGCcXMXLlRg9nOV7kNqEJUC7OG8o";if(r.includes("default.supabase.co")?t.push({type:"warning",message:"使用的是默认Supabase URL，可能无法正常工作",field:"VITE_SUPABASE_URL",fix:"请替换为真实的Supabase项目URL"}):r.startsWith("https://")||t.push({type:"error",message:"Supabase URL必须以https://开头",field:"VITE_SUPABASE_URL",fix:"请确保URL格式正确：https://your-project-ref.supabase.co"}),s.includes("default")&&t.push({type:"warning",message:"使用的是默认Anon Key，可能无法正常工作",field:"VITE_SUPABASE_ANON_KEY",fix:"请替换为真实的Supabase项目匿名密钥"}),t.filter(i=>i.type==="error").length===0)try{console.log("🔗 测试Supabase连接...");const{data:i,error:o}=await qe.auth.getSession();o?t.push({type:"error",message:`认证连接失败: ${o.message}`,field:"auth",fix:"请检查Supabase项目配置和网络连接"}):console.log("✅ 认证连接测试通过");const a=["profiles","posts","comments","interactions"],l=[];for(const c of a)try{const{data:u,error:h}=await qe.from(c).select("count").limit(1);h?h.code==="PGRST301"?t.push({type:"error",message:`表${c}不存在或无法访问`,field:c,fix:"请确保数据库迁移已执行，表结构已创建"}):t.push({type:"warning",message:`表${c}访问异常: ${h.message}`,field:c}):l.push({table:c,accessible:!0})}catch(u){t.push({type:"error",message:`表${c}测试异常: ${u.message}`,field:c})}l.length===a.length&&e.push("✅ 所有数据库表均可正常访问"),i.session?e.push("🔐 用户已登录，认证功能正常"):e.push("🔐 用户未登录，可以测试注册/登录功能")}catch(i){t.push({type:"error",message:`连接测试异常: ${i.message}`,fix:"请检查网络连接和Supabase服务状态"})}if(t.length===0)e.push("🎉 所有配置检查通过，应用可以正常运行");else{const i=t.filter(a=>a.type==="error").length,o=t.filter(a=>a.type==="warning").length;i>0&&e.push(`⚠️ 发现${i}个错误需要修复`),o>0&&e.push(`ℹ️ 发现${o}个警告需要注意`)}return{isValid:t.filter(i=>i.type==="error").length===0,issues:t,recommendations:e}}async function C_(){console.log("🚀 开始执行数据库迁移...");const t=[],e=[];try{const r=await o_();if(r.length===0)return{success:!1,message:"未找到迁移文件",details:"请确保supabase/migrations目录下有SQL迁移文件"};console.log(`📁 找到 ${r.length} 个迁移文件`),r.sort();for(const s of r)try{console.log(`🔧 执行迁移: ${s}`);const n=await la(s);if(!n)throw new Error(`无法读取迁移文件: ${s}`);const{error:i}=await qe.rpc("exec_sql",{sql:n});if(i)if(i.message.includes('function "exec_sql" does not exist'))await a_(n);else throw i;t.push(s),console.log(`✅ 迁移执行成功: ${s}`)}catch(n){console.error(`❌ 迁移执行失败: ${s}`,n),e.push({migration:s,error:n.message,sql:await la(s)})}return e.length>0?{success:!1,message:`迁移执行完成，但有 ${e.length} 个错误`,executedMigrations:t,errors:e}:{success:!0,message:`所有迁移执行成功 (${t.length} 个文件)`,executedMigrations:t,details:"数据库表结构已创建，RLS策略已配置"}}catch(r){return console.error("❌ 迁移执行异常:",r),{success:!1,message:"迁移执行异常",details:r.message,errors:e}}}async function o_(){return["001_create_tables.sql"]}async function la(t){try{return t==="001_create_tables.sql"?`
        -- 创建论坛数据库表结构
        -- 迁移文件：001_create_tables.sql

        -- 1. 创建用户扩展信息表 (profiles)
        CREATE TABLE IF NOT EXISTS profiles (
            id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
            username TEXT UNIQUE NOT NULL,
            avatar_url TEXT,
            level INTEGER DEFAULT 1 CHECK (level >= 1),
            experience_points INTEGER DEFAULT 0 CHECK (experience_points >= 0),
            created_at TIMESTAMPTZ DEFAULT NOW(),
            updated_at TIMESTAMPTZ DEFAULT NOW()
        );

        -- 2. 创建帖子表 (posts)
        CREATE TABLE IF NOT EXISTS posts (
            id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
            user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
            title TEXT NOT NULL CHECK (char_length(title) >= 1 AND char_length(title) <= 200),
            content TEXT NOT NULL CHECK (char_length(content) >= 1),
            tags TEXT[] DEFAULT '{}',
            like_count INTEGER DEFAULT 0 CHECK (like_count >= 0),
            comment_count INTEGER DEFAULT 0 CHECK (comment_count >= 0),
            view_count INTEGER DEFAULT 0 CHECK (view_count >= 0),
            is_pinned BOOLEAN DEFAULT FALSE,
            created_at TIMESTAMPTZ DEFAULT NOW(),
            updated_at TIMESTAMPTZ DEFAULT NOW()
        );

        -- 3. 创建评论表 (comments)
        CREATE TABLE IF NOT EXISTS comments (
            id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
            post_id UUID NOT NULL REFERENCES posts(id) ON DELETE CASCADE,
            user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
            content TEXT NOT NULL CHECK (char_length(content) >= 1 AND char_length(content) <= 1000),
            parent_id UUID REFERENCES comments(id) ON DELETE CASCADE,
            like_count INTEGER DEFAULT 0 CHECK (like_count >= 0),
            is_pinned BOOLEAN DEFAULT FALSE,
            created_at TIMESTAMPTZ DEFAULT NOW(),
            updated_at TIMESTAMPTZ DEFAULT NOW()
        );

        -- 4. 创建互动表 (interactions)
        CREATE TABLE IF NOT EXISTS interactions (
            id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
            user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
            target_type TEXT NOT NULL CHECK (target_type IN ('post', 'comment')),
            target_id UUID NOT NULL,
            interaction_type TEXT NOT NULL CHECK (interaction_type IN ('like', 'bookmark', 'share')),
            created_at TIMESTAMPTZ DEFAULT NOW(),
            
            -- 防止重复操作的唯一约束
            UNIQUE(user_id, target_type, target_id, interaction_type)
        );

        -- 创建索引以优化查询性能
        CREATE INDEX IF NOT EXISTS idx_profiles_username ON profiles(username);
        CREATE INDEX IF NOT EXISTS idx_profiles_level ON profiles(level);
        CREATE INDEX IF NOT EXISTS idx_profiles_experience ON profiles(experience_points);
        CREATE INDEX IF NOT EXISTS idx_posts_user_id ON posts(user_id);
        CREATE INDEX IF NOT EXISTS idx_posts_created_at ON posts(created_at DESC);
        CREATE INDEX IF NOT EXISTS idx_posts_like_count ON posts(like_count DESC);
        CREATE INDEX IF NOT EXISTS idx_posts_comment_count ON posts(comment_count DESC);
        CREATE INDEX IF NOT EXISTS idx_posts_is_pinned ON posts(is_pinned);
        CREATE INDEX IF NOT EXISTS idx_posts_tags ON posts USING GIN(tags);
        CREATE INDEX IF NOT EXISTS idx_comments_post_id ON comments(post_id);
        CREATE INDEX IF NOT EXISTS idx_comments_user_id ON comments(user_id);
        CREATE INDEX IF NOT EXISTS idx_comments_parent_id ON comments(parent_id);
        CREATE INDEX IF NOT EXISTS idx_comments_created_at ON comments(created_at DESC);
        CREATE INDEX IF NOT EXISTS idx_comments_like_count ON comments(like_count DESC);
        CREATE INDEX IF NOT EXISTS idx_comments_is_pinned ON comments(is_pinned);
        CREATE INDEX IF NOT EXISTS idx_interactions_user_id ON interactions(user_id);
        CREATE INDEX IF NOT EXISTS idx_interactions_target ON interactions(target_type, target_id);
        CREATE INDEX IF NOT EXISTS idx_interactions_type ON interactions(interaction_type);
        CREATE INDEX IF NOT EXISTS idx_interactions_created_at ON interactions(created_at DESC);

        -- 启用行级安全 (RLS)
        ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
        ALTER TABLE posts ENABLE ROW LEVEL SECURITY;
        ALTER TABLE comments ENABLE ROW LEVEL SECURITY;
        ALTER TABLE interactions ENABLE ROW LEVEL SECURITY;

        -- 创建RLS策略
        
        -- profiles表策略
        CREATE POLICY "任何人都可以查看用户资料" ON profiles
            FOR SELECT USING (true);

        CREATE POLICY "登录用户可以创建自己的资料" ON profiles
            FOR INSERT WITH CHECK (auth.uid() = id);

        CREATE POLICY "用户只能更新自己的资料" ON profiles
            FOR UPDATE USING (auth.uid() = id);

        -- posts表策略
        CREATE POLICY "任何人都可以查看帖子" ON posts
            FOR SELECT USING (true);

        CREATE POLICY "登录用户可以创建帖子" ON posts
            FOR INSERT WITH CHECK (auth.uid() = user_id);

        CREATE POLICY "用户只能更新自己的帖子" ON posts
            FOR UPDATE USING (auth.uid() = user_id);

        CREATE POLICY "用户只能删除自己的帖子" ON posts
            FOR DELETE USING (auth.uid() = user_id);

        -- comments表策略
        CREATE POLICY "任何人都可以查看评论" ON comments
            FOR SELECT USING (true);

        CREATE POLICY "登录用户可以创建评论" ON comments
            FOR INSERT WITH CHECK (auth.uid() = user_id);

        CREATE POLICY "用户只能更新自己的评论" ON comments
            FOR UPDATE USING (auth.uid() = user_id);

        CREATE POLICY "用户只能删除自己的评论" ON comments
            FOR DELETE USING (auth.uid() = user_id);

        -- interactions表策略
        CREATE POLICY "用户只能查看自己的互动记录" ON interactions
            FOR SELECT USING (auth.uid() = user_id);

        CREATE POLICY "登录用户可以创建互动" ON interactions
            FOR INSERT WITH CHECK (auth.uid() = user_id);

        CREATE POLICY "用户只能删除自己的互动记录" ON interactions
            FOR DELETE USING (auth.uid() = user_id);
      `:null}catch(e){return console.error(`❌ 读取迁移文件失败: ${t}`,e),null}}async function a_(t){const e=t.split(";").filter(r=>r.trim());for(const r of e)if(r.trim()){const{error:s}=await qe.rpc("exec_sql",{sql:r+";"});if(s)throw new Error(`SQL执行失败: ${s.message}`)}}async function l_(){const t=["profiles","posts","comments","interactions"],e=[];for(const s of t)try{const{data:n,error:i}=await qe.from(s).select("*",{count:"exact",head:!0});e.push({name:s,exists:!i,rowCount:n?n.length:0})}catch{e.push({name:s,exists:!1,rowCount:0})}return{tablesExist:e.every(s=>s.exists),tables:e}}async function c_(){console.log("🚀 开始应用初始化...");const t=Date.now(),e={configValid:!1,databaseReady:!1,authReady:!1};try{console.log("🔧 验证Supabase配置...");const r=await Lc();e.configValid=r.isValid,e.configValid?console.log("✅ Supabase配置验证通过"):(console.warn("⚠️ Supabase配置验证失败，应用可能无法正常工作"),console.log("建议检查.env文件中的环境变量配置")),console.log("🗄️ 检查数据库状态...");const s=await l_();e.databaseReady=s.tablesExist,e.databaseReady?console.log("✅ 数据库状态正常"):(console.warn("⚠️ 数据库表不完整，可能需要执行迁移"),console.log("建议访问 /supabase-manager 页面执行数据库迁移")),console.log("🔐 初始化认证系统...");const n=await u_();e.authReady=n.success,e.authReady?console.log("✅ 认证系统初始化完成"):console.warn("⚠️ 认证系统初始化失败"),h_();const o=Date.now()-t,a=e.configValid&&e.databaseReady&&e.authReady;return a?(console.log(`🎉 应用初始化完成 (${o}ms)`),console.log("📊 初始化结果:"),console.log("  - 配置验证: ✅ 通过"),console.log("  - 数据库状态: ✅ 正常"),console.log("  - 认证系统: ✅ 就绪")):(console.warn(`⚠️ 应用初始化完成，但存在警告 (${o}ms)`),console.log("📊 初始化结果:"),console.log(`  - 配置验证: ${e.configValid?"✅":"❌"}`),console.log(`  - 数据库状态: ${e.databaseReady?"✅":"❌"}`),console.log(`  - 认证系统: ${e.authReady?"✅":"❌"}`)),{success:a,message:a?"应用初始化成功":"应用初始化完成，但存在警告",details:e}}catch(r){return console.error("❌ 应用初始化失败:",r),{success:!1,message:"应用初始化失败: "+(r instanceof Error?r.message:"未知错误"),details:e}}}async function u_(){try{const{data:{session:t},error:e}=await qe.auth.getSession();return e?(console.error("❌ 获取会话失败:",e),{success:!1}):(t?(console.log("🔐 检测到有效会话，用户已登录"),console.log("👤 用户ID:",t.user.id),console.log("📧 用户邮箱:",t.user.email)):console.log("🔐 用户未登录"),{success:!0,session:t})}catch(t){return console.error("❌ 认证初始化失败:",t),{success:!1}}}function h_(){qe.auth.onAuthStateChange((t,e)=>{switch(console.log("🔐 认证状态变化:",t),t){case"SIGNED_IN":console.log("🎉 用户登录成功"),console.log("👤 用户ID:",e==null?void 0:e.user.id),console.log("📧 用户邮箱:",e==null?void 0:e.user.email),window.dispatchEvent(new CustomEvent("auth-state-changed",{detail:{event:t,session:e}}));break;case"SIGNED_OUT":console.log("👋 用户已登出"),window.dispatchEvent(new CustomEvent("auth-state-changed",{detail:{event:t,session:null}}));break;case"TOKEN_REFRESHED":console.log("🔄 令牌已刷新");break;case"USER_UPDATED":console.log("👤 用户信息已更新");break}}),window.addEventListener("online",()=>{console.log("🌐 网络连接恢复"),setTimeout(()=>{Lc().catch(console.error)},1e3)}),window.addEventListener("offline",()=>{console.warn("🌐 网络连接断开")})}async function d_(){console.log("🏗️ 生产模式初始化...");try{"performance"in window&&performance.mark("app-start");const t=["/src/services/supabase.ts","/src/stores/auth.ts","/src/router/index.ts"];console.log("📦 预加载关键资源..."),console.log("✅ 生产模式初始化完成")}catch(t){console.error("❌ 生产模式初始化失败:",t)}}function f_(){window.addEventListener("error",t=>{console.error("🚨 全局错误:",t.error),console.log("📊 发送错误报告...")}),window.addEventListener("unhandledrejection",t=>{console.error("🚨 未处理的Promise拒绝:",t.reason),console.log("📊 发送Promise拒绝报告...")}),typeof window<"u"&&(window.__VUE_ERROR_HANDLER__=(t,e,r)=>{console.error("🚨 Vue错误:",t),console.error("组件:",e),console.error("信息:",r)}),console.log("✅ 错误处理系统初始化完成")}async function ni(){console.log("🎯 开始应用启动流程...");try{f_(),await d_();const t=await c_();window.dispatchEvent(new CustomEvent("app-startup-complete",{detail:t})),console.log("🎉 应用启动流程完成")}catch(t){console.error("❌ 应用启动流程失败:",t),window.dispatchEvent(new CustomEvent("app-startup-failed",{detail:{error:t}}))}}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(ni,100)}):setTimeout(ni,100));const Li=id(n_);Li.use(ld());Li.use(Nc);Li.mount("#app");ni().catch(console.error);export{l_ as A,b_ as B,ci as C,y_ as D,I_ as E,ft as F,Re as G,t_ as _,jr as a,ve as b,me as c,Ks as d,v_ as e,p_ as f,us as g,__ as h,Ka as i,wh as j,Ce as k,Ou as l,g_ as m,Sh as n,pr as o,mr as p,jt as q,Ct as r,qe as s,St as t,w_ as u,m_ as v,Fr as w,R_ as x,Lc as y,C_ as z};
//# sourceMappingURL=index-CtP2hjPR.js.map
